(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*.mat-expansion-panel{\n    background: #3f51b5;\n    bottom: 0;\n    clear: both;\n    position: fixed;\n    z-index: 2;\n    width: 100%;\n    \n}*/\n\n.mat-toolbar{\n    position: sticky;\n    position: -webkit-sticky; /* For macOS/iOS Safari */\n    top: 0; /* Sets the sticky toolbar to be on top */\n    z-index: 1000; /* Ensure that your app's content doesn't overlap the toolbar */\n}\n\n#tab{\n    margin-top: 100px;\n}\n\n::ng-deep .mat-tab-body-wrapper {\n    height: 100%;\n}\n\n/*.mat-tab-body-wrapper{\n    flex-grow: 1;\n}\n\n.mat-tab-body-content{\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}*/\n\n/*.mat-tab-group{\n    height: 100%;\n}*/"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!--The content below is only a placeholder and can be replaced.-->\n\n<mat-toolbar color=\"primary\">\n    <div  *ngIf=\"true ; then pageMenu\"></div>\n    <span style=\"width:100%;\" >ROBOT WEB GUI</span>    \n    <button mat-raised-button color=\"primary\"\n        [matBadge]=\"robotService.nBadgeLogger\" matBadgePosition=\"before\" matBadgeColor=\"accent\"\n        (click)=\"openDialog()\">\n        Logger\n    </button>\n    <div  *ngIf=\"true ; then ViewMenu\"></div>      \n</mat-toolbar>\n\n<!--<app-logger style=\" height:100%\"></app-logger> -->\n<!--<mat-toolbar style=\"top:64px; z-index:1000; margin-top:2px; width:250px; height:30px\" color=\"primary\">\n    <div >\n        ciao{{selectedDevice}} <div  *ngIf=\"true ; then JntMenu\"></div>     \n        <button  style=\"float: right;\" *ngIf=\"isJoint\" mat-raised-button color=\"primary\" type=\"button\" (click)=\"plotState(jointId,selectedDevice)\">PlotState</button>\n    </div>\n</mat-toolbar>-->\n\n<router-outlet></router-outlet>             \n\n<ng-template #pageMenu> \n    <div style=\"margin-left: 0\">\n        <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon>menu</mat-icon>\n        </button>\n        <mat-menu #menu=\"matMenu\" xPosition=\"before\" yPosition=\"below\" [overlapTrigger]=\"false\">\n            <button mat-menu-item \n            routerLink=\"\"\n            routerLinkActive=\"active current\">                \n                <span>Home</span>\n            </button>\n            <!--<button mat-menu-item \n            routerLink=\"/singleJointDashBoard\"\n            routerLinkActive=\"active current\">\n                <mat-icon>dialpad</mat-icon>\n                <span>Joint</span>\n            </button>-->\n            <button mat-menu-item \n            routerLink=\"/xbotPlugins\"\n            routerLinkActive=\"active current\">\n                <span>XbotPlugins</span>\n            </button>\n        </mat-menu>\n    </div>\n</ng-template>\n\n<ng-template #ViewMenu>\n    <div style=\"margin-right: 0\">\n        <button mat-icon-button [matMenuTriggerFor]=\"viewMenu\">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #viewMenu=\"matMenu\" xPosition=\"after\" yPosition=\"below\" [overlapTrigger]=\"false\" > \n            <div mat-menu-item >\n                <mat-checkbox (change) =\"robotService.countView(robotService.modelViewFlag)\" [(ngModel)]=\"robotService.modelViewFlag\">Show Model</mat-checkbox>\n            </div>\n            <div mat-menu-item>\n                <mat-checkbox (change) =\"robotService.countView(robotService.plotterViewFlag)\" [(ngModel)]=\"robotService.plotterViewFlag\">Show Plotter</mat-checkbox>\n            </div>\n            <div mat-menu-item>\n                <mat-checkbox  (change) =\"robotService.countView(robotService.controlPanelViewFlag)\" [(ngModel)]=\"robotService.controlPanelViewFlag\">Show Details</mat-checkbox>        \n            </div>            \n        </mat-menu>\n    </div>\n</ng-template>"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _logger_logger_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./logger/logger.component */ "./src/app/logger/logger.component.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

//import { MatTabChangeEvent } from '@angular/material';



var AppComponent = /** @class */ (function () {
    function AppComponent(robotService, dialog) {
        this.dialog = dialog;
        this.robotService = robotService;
    }
    /*changeViewPanel(param){
      //console.log("enableModelView"+ param);
      this.toggleGlobal = param;
      if (param == "Global"){
        this.robotService.controlPanelViewFlag = false;
      }
      else if (param == "Single"){
        this.robotService.controlPanelViewFlag = true;
      }
    }
  
    onLinkClick(event: MatTabChangeEvent) {
      //console.log('event => ', event);
      this.tabIndex = event.index;
      //console.log('index => ', event.index);
      //console.log('tab => ', event.tab);
    }*/
    AppComponent.prototype.openDialog = function () {
        var _this = this;
        //this.robotService.nBadgeLogger = 0;
        var dialogRef = this.dialog.open(_logger_logger_component__WEBPACK_IMPORTED_MODULE_3__["LoggerComponent"], {
            width: '70%',
            height: '80%',
        });
        dialogRef.afterClosed().subscribe(function (result) {
            console.log('The dialog was closed');
            _this.robotService.nBadgeLogger = 0;
        });
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        }),
        __metadata("design:paramtypes", [_services_robot_state_service__WEBPACK_IMPORTED_MODULE_1__["RobotStateService"], _angular_material__WEBPACK_IMPORTED_MODULE_2__["MatDialog"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/http.service */ "./src/app/services/http.service.ts");
/* harmony import */ var _services_websocket_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/websocket.service */ "./src/app/services/websocket.service.ts");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _common_app_error_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common/app-error-handler */ "./src/app/common/app-error-handler.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _plugin_list_plugin_list_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./plugin-list/plugin-list.component */ "./src/app/plugin-list/plugin-list.component.ts");
/* harmony import */ var _slider_control_slider_control_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./slider-control/slider-control.component */ "./src/app/slider-control/slider-control.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _canvas_canvas_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./canvas/canvas.component */ "./src/app/canvas/canvas.component.ts");
/* harmony import */ var _plotter_plotter_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./plotter/plotter.component */ "./src/app/plotter/plotter.component.ts");
/* harmony import */ var _control_panel_control_panel_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./control-panel/control-panel.component */ "./src/app/control-panel/control-panel.component.ts");
/* harmony import */ var _tree_panel_tree_panel_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./tree-panel/tree-panel.component */ "./src/app/tree-panel/tree-panel.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/esm5/expansion.es5.js");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/flex-layout */ "./node_modules/@angular/flex-layout/esm5/flex-layout.es5.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/esm5/list.es5.js");
/* harmony import */ var _angular_material_card__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/card */ "./node_modules/@angular/material/esm5/card.es5.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/esm5/input.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _angular_material_tabs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/tabs */ "./node_modules/@angular/material/esm5/tabs.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm5/icon.es5.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/esm5/button-toggle.es5.js");
/* harmony import */ var _angular_material_tree__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/material/tree */ "./node_modules/@angular/material/esm5/tree.es5.js");
/* harmony import */ var _bar_chart_bar_chart_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./bar-chart/bar-chart.component */ "./src/app/bar-chart/bar-chart.component.ts");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/slider */ "./node_modules/@angular/material/esm5/slider.es5.js");
/* harmony import */ var _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/material/slide-toggle */ "./node_modules/@angular/material/esm5/slide-toggle.es5.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/esm5/snack-bar.es5.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/esm5/checkbox.es5.js");
/* harmony import */ var _logger_logger_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./logger/logger.component */ "./src/app/logger/logger.component.ts");
/* harmony import */ var _angular_material_badge__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @angular/material/badge */ "./node_modules/@angular/material/esm5/badge.es5.js");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/esm5/menu.es5.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _angular_material_table__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @angular/material/table */ "./node_modules/@angular/material/esm5/table.es5.js");
/* harmony import */ var _angular_material_paginator__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @angular/material/paginator */ "./node_modules/@angular/material/esm5/paginator.es5.js");
/* harmony import */ var _angular_material_sort__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @angular/material/sort */ "./node_modules/@angular/material/esm5/sort.es5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _home_home_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./home/home.component */ "./src/app/home/home.component.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_4__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"],
                _plugin_list_plugin_list_component__WEBPACK_IMPORTED_MODULE_8__["PluginListComponent"],
                _slider_control_slider_control_component__WEBPACK_IMPORTED_MODULE_9__["SliderControlComponent"],
                _canvas_canvas_component__WEBPACK_IMPORTED_MODULE_11__["CanvasComponent"],
                _plotter_plotter_component__WEBPACK_IMPORTED_MODULE_12__["PlotterComponent"],
                _control_panel_control_panel_component__WEBPACK_IMPORTED_MODULE_13__["ControlPanelComponent"],
                _tree_panel_tree_panel_component__WEBPACK_IMPORTED_MODULE_14__["TreePanelComponent"],
                _bar_chart_bar_chart_component__WEBPACK_IMPORTED_MODULE_27__["BarChartComponent"],
                _logger_logger_component__WEBPACK_IMPORTED_MODULE_32__["LoggerComponent"],
                _home_home_component__WEBPACK_IMPORTED_MODULE_40__["HomeComponent"]
            ],
            entryComponents: [_logger_logger_component__WEBPACK_IMPORTED_MODULE_32__["LoggerComponent"]],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["BrowserModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_6__["HttpClientModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_10__["FormsModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_15__["BrowserAnimationsModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_16__["MatToolbarModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_17__["MatExpansionModule"],
                _angular_flex_layout__WEBPACK_IMPORTED_MODULE_18__["FlexLayoutModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_19__["MatListModule"],
                _angular_material_card__WEBPACK_IMPORTED_MODULE_20__["MatCardModule"],
                _angular_material_input__WEBPACK_IMPORTED_MODULE_21__["MatInputModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_22__["MatButtonModule"],
                _angular_material_tabs__WEBPACK_IMPORTED_MODULE_23__["MatTabsModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_24__["MatIconModule"],
                _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_25__["MatButtonToggleModule"],
                _angular_material_tree__WEBPACK_IMPORTED_MODULE_26__["MatTreeModule"],
                _angular_material_slider__WEBPACK_IMPORTED_MODULE_28__["MatSliderModule"],
                _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_29__["MatSlideToggleModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_30__["MatSnackBarModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_31__["MatCheckboxModule"],
                _angular_material_badge__WEBPACK_IMPORTED_MODULE_33__["MatBadgeModule"],
                _angular_material_menu__WEBPACK_IMPORTED_MODULE_34__["MatMenuModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_35__["MatDialogModule"],
                _angular_material_paginator__WEBPACK_IMPORTED_MODULE_37__["MatPaginatorModule"],
                _angular_material_table__WEBPACK_IMPORTED_MODULE_36__["MatTableModule"],
                _angular_material_sort__WEBPACK_IMPORTED_MODULE_38__["MatSortModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_39__["RouterModule"].forRoot([
                    {
                        path: '',
                        component: _home_home_component__WEBPACK_IMPORTED_MODULE_40__["HomeComponent"]
                    },
                    {
                        path: 'xbotPlugins',
                        component: _plugin_list_plugin_list_component__WEBPACK_IMPORTED_MODULE_8__["PluginListComponent"]
                    }
                    /*{
                      path: '**',
                      component: NotFoundComponent
                    }*/
                ])
            ],
            providers: [
                _services_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"],
                _services_websocket_service__WEBPACK_IMPORTED_MODULE_2__["WebsocketService"],
                _services_robot_state_service__WEBPACK_IMPORTED_MODULE_0__["RobotStateService"],
                { provide: _angular_core__WEBPACK_IMPORTED_MODULE_4__["ErrorHandler"], useClass: _common_app_error_handler__WEBPACK_IMPORTED_MODULE_5__["AppErrorHandler"] },
                { provide: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["HAMMER_GESTURE_CONFIG"], useClass: _angular_material__WEBPACK_IMPORTED_MODULE_16__["GestureConfig"] }
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_7__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/bar-chart/bar-chart.component.css":
/*!***************************************************!*\
  !*** ./src/app/bar-chart/bar-chart.component.css ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/bar-chart/bar-chart.component.html":
/*!****************************************************!*\
  !*** ./src/app/bar-chart/bar-chart.component.html ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width:100%; height:100%\"\nfxLayout =\"column\"\nfxLayout.xs=\"column\"\nfxLayoutAlign=\"center stretch\"\nfxLayoutGap=\"2px\"\nfxLayoutGap.xs=\"0\">\n  <div class=\"item item-1\"  fxFlex=70 >\n    <div style=\" height:100%\">\n      <canvas [id]=\"getId()\"></canvas>\n    </div> \n  </div>\n  <div class=\"item item-2\"  fxFlex=\"5\" >\n      <div style=\" height:100%\">\n        <div >\n          MinScale <input #MinScale name=\"range\" step=\"0.1\" (change)=\"setMinScale(MinScale.value)\" style=\" width:50px\" >\n          MaxScale <input #MaxScale name=\"range\" step=\"0.1\" (change)=\"setMaxScale(MaxScale.value)\" style=\" width:50px\" >  \n        </div> \n      </div>\n    </div>\n    <mat-toolbar color=\"primary\">\n        <div style=\" margin-right:auto; margin-left: auto;\"> \n          <span>TOPICS</span>\n        </div>        \n    </mat-toolbar>\n  <div class=\"item item-3\"  fxFlex=25 >\n    <div style=\" height:100%; overflow: scroll;\">\n      <mat-list role=\"list\">\n          <mat-list-item style=\" width:100%;\" *ngFor=\"let litem of topics\">\n              <button (click) =\"setTopic(litem)\" style=\" width:100%;\"  mat-button> {{litem}}</button>\n          </mat-list-item>\n      </mat-list>\n    </div> \n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/bar-chart/bar-chart.component.ts":
/*!**************************************************!*\
  !*** ./src/app/bar-chart/bar-chart.component.ts ***!
  \**************************************************/
/*! exports provided: BarChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BarChartComponent", function() { return BarChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/src/chart.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BarChartComponent = /** @class */ (function () {
    function BarChartComponent(robotService) {
        var _this = this;
        this.topics = [];
        this.mapTopicLimit = new Map();
        this.chartColors = {
            red: 'rgb(255, 99, 132)',
            orange: 'rgb(255, 159, 64)',
            yellow: 'rgb(255, 205, 86)',
            green: 'rgb(75, 192, 192)',
            blue: 'rgb(54, 162, 235)',
            purple: 'rgb(153, 102, 255)',
            grey: 'rgb(201, 203, 207)'
        };
        this.OnWindowResize = function (EventListener) {
            _this.myChart.resize();
        };
        this.robotService = robotService;
        this.currentTopic = "";
        this.mapTopicLimit.set("link_position", "poslim");
        this.mapTopicLimit.set("motor_position", "poslim");
        this.mapTopicLimit.set("pos_ref", "poslim");
        this.mapTopicLimit.set("link_velocity", "vellim");
        this.mapTopicLimit.set("motor_velocity", "vellim");
        this.mapTopicLimit.set("vel_ref", "vellim");
        this.mapTopicLimit.set("effort", "efflim");
        this.mapTopicLimit.set("eff_ref", "efflim");
        this.mapTopicLimit.set("temperature", "templim");
        this.mapTopicLimit.set("aux", "auxlim");
        if (this.label == null)
            this.label = "Plotter";
        this.data = {
            labels: [],
            datasets: []
        };
    }
    BarChartComponent.prototype.setTopic = function (topic) {
        this.robotService.currentTopicBar = topic;
    };
    BarChartComponent.prototype.getId = function () {
        return "myBarChart" + this.idPlot;
    };
    BarChartComponent.prototype.ngOnInit = function () {
        console.log("ID ONINIT " + this.getId());
    };
    BarChartComponent.prototype.ngOnDestroy = function () {
        clearTimeout(this.timeout);
        if (this.subPlotAddDatamsg != null)
            this.subPlotAddDatamsg.unsubscribe();
        //this.subPlotAddmsg.unsubscribe();
        //this.subPlotClearmsg.unsubscribe();
        this.robotService = null;
        this.map = null;
        window.removeEventListener('resize', this.OnWindowResize);
        //REMOVE HOSTLISTENER
        //REMOVE SETINTERVAL
    };
    BarChartComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.timeout = setTimeout(function () {
            console.log("CHART ID " + _this.idPlot);
            _this.isResponsive = true;
            _this.canvas = document.getElementById(_this.getId());
            _this.ctx = _this.canvas.getContext('2d');
            _this.myChart = new chart_js__WEBPACK_IMPORTED_MODULE_1__(_this.ctx, {
                type: 'bar',
                data: _this.data,
                options: {
                    events: ['click'],
                    responsiveAnimationDuration: 0,
                    animation: {
                        duration: 0
                    },
                    responsive: _this.isResponsive,
                    maintainAspectRatio: false,
                    //cubicInterpolationMode: "",
                    title: {
                        display: true,
                        text: _this.label
                    },
                    tooltips: {
                        enabled: true,
                        mode: 'index',
                        intersect: true,
                        callbacks: {
                            afterLabel: function (tooltipItem, data) {
                                _this.robotService.selectJointSensorName = tooltipItem.xLabel;
                                _this.robotService.advertiseSelectedJoint(_this.robotService.selectJointSensorName);
                                return "";
                            }
                        }
                    },
                    /*hover: {
                      mode: 'nearest',
                      intersect: true
                    },*/
                    scaleBeginAtZero: false,
                    scales: {
                        xAxes: [{
                                stacked: true,
                                display: false,
                                scaleLabel: {
                                    display: true,
                                    labelString: 'Joints'
                                }
                            }],
                        yAxes: [{
                                //stacked: true,
                                display: true,
                                ticks: {
                                    //stepSize: 0.5
                                    beginAtZero: true,
                                },
                                scaleLabel: {
                                    display: true,
                                }
                            }]
                    }
                }
            });
            _this.robotService.registerBarChartComponent(parseInt(_this.idPlot));
            _this.subPlotAddDatamsg = _this.robotService.currentBarAddDatamsg.get(parseInt(_this.idPlot)).subscribe(function (msg) {
                if (msg == null)
                    return;
                if (msg != null) {
                    //console.log(msg);
                    var topicname = msg["topic"];
                    var robot = msg["robot"];
                    if (robot == null)
                        return;
                    //console.log(robot);
                    var joint = robot["joint_name"];
                    var topic = robot[topicname];
                    var keys = Object.keys(robot);
                    _this.topics = keys;
                    _this.addDataset(joint);
                    if (_this.currentTopic != topicname) {
                        _this.currentTopic = topicname;
                        var limitType = _this.mapTopicLimit.get(topicname);
                        for (var i = 0; i < joint.length; i++) {
                            var obj = _this.robotService.limits.get(joint[i]);
                            if (obj != null) {
                                var lim = obj[limitType];
                                if (lim != null) {
                                    _this.ulimvec[i] = lim.ulim;
                                    _this.llimvec[i] = lim.llim;
                                }
                                else {
                                    _this.ulimvec[i] = 0;
                                    _this.llimvec[i] = 0;
                                }
                            }
                        }
                        _this.updateLimits(_this.ulimvec, _this.llimvec);
                    }
                    _this.setLabel(topicname);
                    _this.addDataToDataset(topic);
                }
            });
            window.addEventListener('resize', _this.OnWindowResize);
            _this.myChart.resize();
        }, 100);
    };
    BarChartComponent.prototype.clearData = function () {
        this.data.labels = [];
        this.data.datasets = [];
        this.robotService.clearPlot(parseInt(this.idPlot));
        this.myChart.update();
    };
    BarChartComponent.prototype.addDataset = function (msg) {
        if (this.data.labels != null && this.data.labels.length == 0) {
            var ol = Object.keys(this.chartColors);
            var colorName = ol[this.data.datasets.length % ol.length];
            var data = {
                label: "",
                backgroundColor: this.chartColors[colorName],
                borderColor: this.chartColors[colorName],
                borderWidth: 1,
                data: new Array(msg.length)
            }; //msg["value"]
            this.data.labels = msg;
            this.data.datasets.push(data);
            var dataULimit = {
                label: "ULimit",
                backgroundColor: 'rgb(255, 179, 179)',
                borderColor: 'rgb(255, 179, 179)',
                borderWidth: 1,
                data: new Array(msg.length)
            }; //msg["value"]
            this.data.datasets.push(dataULimit);
            var dataLLimit = {
                label: "LLimit",
                backgroundColor: 'rgb(255, 179, 179)',
                borderColor: 'rgb(255, 179, 179)',
                borderWidth: 1,
                data: new Array(msg.length)
            }; //msg["value"]
            this.data.datasets.push(dataLLimit);
            this.ulimvec = new Array(msg.length);
            this.llimvec = new Array(msg.length);
        }
    };
    BarChartComponent.prototype.setLabel = function (label) {
        this.data.datasets[0].label = label;
    };
    BarChartComponent.prototype.setMinScale = function (val) {
        this.myChart.options.scales.yAxes[0].ticks.min = parseFloat(val);
    };
    BarChartComponent.prototype.setMaxScale = function (val) {
        this.myChart.options.scales.yAxes[0].ticks.max = parseFloat(val);
    };
    BarChartComponent.prototype.addDataToDataset = function (msg) {
        for (var i = 0; i < this.data.labels.length; i++) {
            this.data.datasets[0].data[i] = msg[i];
        }
        this.myChart.update(0);
    };
    BarChartComponent.prototype.updateLimits = function (ulim, llim) {
        for (var i = 0; i < this.data.labels.length; i++) {
            this.data.datasets[1].data[i] = ulim[i];
            this.data.datasets[2].data[i] = llim[i];
        }
        //this.myChart.update(0);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], BarChartComponent.prototype, "idPlot", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], BarChartComponent.prototype, "label", void 0);
    BarChartComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-bar-chart',
            template: __webpack_require__(/*! ./bar-chart.component.html */ "./src/app/bar-chart/bar-chart.component.html"),
            styles: [__webpack_require__(/*! ./bar-chart.component.css */ "./src/app/bar-chart/bar-chart.component.css")]
        }),
        __metadata("design:paramtypes", [_services_robot_state_service__WEBPACK_IMPORTED_MODULE_2__["RobotStateService"]])
    ], BarChartComponent);
    return BarChartComponent;
}());



/***/ }),

/***/ "./src/app/canvas/canvas.component.css":
/*!*********************************************!*\
  !*** ./src/app/canvas/canvas.component.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*.canvas{\n    margin-top: 64px;\n}*/"

/***/ }),

/***/ "./src/app/canvas/canvas.component.html":
/*!**********************************************!*\
  !*** ./src/app/canvas/canvas.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"canvas\" #container></div>"

/***/ }),

/***/ "./src/app/canvas/canvas.component.ts":
/*!********************************************!*\
  !*** ./src/app/canvas/canvas.component.ts ***!
  \********************************************/
/*! exports provided: CanvasComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CanvasComponent", function() { return CanvasComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var three_full__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three-full */ "./node_modules/three-full/builds/Three.es.js");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../services/http.service */ "./src/app/services/http.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _common_not_foud_error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../common/not-foud-error */ "./src/app/common/not-foud-error.ts");
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var OrbitControls = __webpack_require__(/*! three-orbit-controls */ "./node_modules/three-orbit-controls/index.js")(three_full__WEBPACK_IMPORTED_MODULE_1__);
//import * as STLLoader from 'three-stl-loader';
var STLLoader = __webpack_require__(/*! three-stl-loader */ "./node_modules/three-stl-loader/index.js")(three_full__WEBPACK_IMPORTED_MODULE_1__);
//declare var ColladaLoader : any;
//var ColladaLoader = require('three-collada-loader')(THREE);
//import {ColladaLoader} from "three";
var coll_loader = new three_full__WEBPACK_IMPORTED_MODULE_1__["ColladaLoader"]();
var stl_loader = new STLLoader();

var CanvasComponent = /** @class */ (function () {
    function CanvasComponent(http, robotService) {
        var _this = this;
        this.title = 'app';
        this.linkmap = new Map();
        this.jointmap = new Map();
        this.order = 'XYZ';
        this.faultMap = new Map();
        this.OnWindowResize = function (EventListener) {
            _this.resize();
        };
        this.Onclick = function (MouseEvent) {
            var rect = _this.renderer.domElement.getBoundingClientRect();
            _this.mouse.x = ((MouseEvent.clientX - rect.left) / rect.width) * 2 - 1;
            _this.mouse.y = -((MouseEvent.clientY - rect.top) / rect.height) * 2 + 1;
            //console.log(this.mouse.x + "" +this.mouse.y);
            if (MouseEvent.which === 1)
                _this.CheckIntersection();
        };
        console.log(three_full__WEBPACK_IMPORTED_MODULE_1__);
        this.isModelLoaded = true;
        this.service = new _services_http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"](http);
        this.service.setURL("/model");
        this.robotService = robotService;
        this.robotService.CtrlcurrentJointmsg.subscribe(function (msg) {
            if (msg == null)
                return;
            if (msg["name"] == "null")
                _this.msgCtrl = null;
            _this.msgCtrl = msg;
        });
        this.sub = this.robotService.currentmsg.subscribe(function (msg) {
            var robot = msg["robot"];
            if (robot != null) {
                robot.forEach(function (value, mkey) {
                    var angle = value.motorPos;
                    var joint = _this.jointmap.get(value.name);
                    if (joint == null)
                        return;
                    _this.faultMap.set(value.name, value.fault);
                    var userdata = joint.userData;
                    if (userdata != null) {
                        var axis = userdata["axis"];
                        if (_this.msgCtrl != null)
                            if (_this.msgCtrl["name"] == value.name)
                                angle = _this.msgCtrl["value"];
                        if (axis != null) {
                            // console.log("SET ROT "+nameList[i]+ " axis "+ axis+ " angle "+angle);
                            var delta = new three_full__WEBPACK_IMPORTED_MODULE_1__["Quaternion"]().setFromAxisAngle(new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector3"](axis[0], axis[1], axis[2]), angle);
                            var origRot = userdata["quaternion"];
                            joint.quaternion.multiplyQuaternions(origRot, delta);
                            //joint.setRotationFromAxisAngle(new THREE.Vector3(axis[0],axis[1],axis[2]),angle);
                            //joint.rotateOnAxis(new THREE.Vector3(axis[0],axis[1],axis[2]),0.01);
                        }
                    }
                });
            }
        });
    }
    CanvasComponent.prototype.createNodeLink = function (pos, rot_axis, angle, scale) {
        var tmp = new three_full__WEBPACK_IMPORTED_MODULE_1__["Mesh"]();
        if (rot_axis != null) {
            tmp.setRotationFromAxisAngle(new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector3"](rot_axis[0], rot_axis[1], rot_axis[2]), angle);
        }
        tmp.position.set(pos[0], pos[1], pos[2]);
        if (scale != null)
            tmp.scale.set(1, 1, 1);
        return tmp;
    };
    CanvasComponent.prototype.createNodeJoint = function (pos, rot_axis, angle) {
        var tmp = new three_full__WEBPACK_IMPORTED_MODULE_1__["Object3D"]();
        if (rot_axis != null) {
            tmp.setRotationFromAxisAngle(new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector3"](rot_axis[0], rot_axis[1], rot_axis[2]), angle);
        }
        tmp.position.set(pos[0], pos[1], pos[2]);
        return tmp;
    };
    CanvasComponent.prototype.parseJoints = function (joints) {
        for (var _i = 0, joints_1 = joints; _i < joints_1.length; _i++) {
            var joint = joints_1[_i];
            var name = joint["Name"];
            var child = joint["Child"];
            var parent = joint["Parent"];
            var limits = joint["Limits"];
            var limit = { "poslim": { "llim": limits[0], "ulim": limits[1] }, "efflim": { "llim": limits[2] * -1, "ulim": limits[2] }, "vellim": { "llim": limits[3] * -1, "ulim": limits[3] } };
            this.robotService.limits.set(name, limit);
            var pos = joint["Pos"];
            if (pos == null)
                pos = [0, 0, 0];
            var rot = joint["Rot"];
            var axis;
            var angle;
            if (rot != null) {
                axis = rot["Axis"];
                angle = rot["Angle"];
            }
            else {
                axis = null;
                angle = null;
            }
            var raxis = joint["Axis"];
            var nodel1 = this.createNodeJoint(pos, axis, angle);
            var origRot = new three_full__WEBPACK_IMPORTED_MODULE_1__["Quaternion"]().copy(nodel1.quaternion);
            nodel1.userData = { "axis": raxis, "name": name, "quaternion": origRot };
            var clink = this.linkmap.get(child);
            var plink = this.linkmap.get(parent);
            nodel1.add(clink);
            plink.add(nodel1);
            this.jointmap.set(name, nodel1);
        }
    };
    CanvasComponent.prototype.parseLinks = function (links) {
        for (var _i = 0, links_1 = links; _i < links_1.length; _i++) {
            var link = links_1[_i];
            var name = link["Name"];
            var pos = link["Pos"];
            if (pos == null)
                pos = [0, 0, 0];
            var rot = link["Rot"];
            var axis;
            var angle;
            if (rot != null) {
                axis = rot["Axis"];
                angle = rot["Angle"];
            }
            else {
                axis = null;
                angle = null;
            }
            var mesh = link["Mesh"];
            var material = link["Material"];
            var scale = link["Scale"];
            var linkNode = this.createNodeLink([0, 0, 0], null, null, null);
            var meshNode = this.createNodeLink(pos, axis, angle, scale);
            meshNode.name = name;
            if (mesh != null)
                meshNode.userData = { "mesh": mesh, "scale": scale, "load": false, "IDlink": 0, "realMesh": "" };
            linkNode.add(meshNode);
            this.linkmap.set(name, linkNode);
            var sensor = link["Sensor"];
            if (sensor != null) {
                var marker = this.addSensorMarker([0, 0, 0], 0.08);
                linkNode.geometry = marker.geometry;
                linkNode.material = marker.material;
                linkNode.userData = { "name": name };
            }
        }
    };
    CanvasComponent.prototype.getData = function () {
        var _this = this;
        this.service.get("/model")
            .subscribe(function (response) {
            var root = response["Model"];
            var joints = root["Joint"];
            var links = root["Link"];
            _this.parseLinks(links);
            _this.parseJoints(joints);
            var root_link = root["Root_Link"];
            var root_joint = root["Root_Joint"];
            var link = _this.linkmap.get(root_link);
            var joint = _this.jointmap.get(root_joint);
            link.rotation.set(-Math.PI / 2, 0, 0);
            link.add(joint);
            _this.scene.add(link);
            //SAVE STATE
            _this.robotService.CanvasState.camera = _this.camera;
            _this.robotService.CanvasState.scene = _this.scene;
            _this.robotService.CanvasState.controls = _this.controls;
            _this.robotService.CanvasState.jointMap = _this.jointmap;
            _this.robotService.CanvasState.linkMap = _this.linkmap;
            _this.robotService.CanvasState.renderer = _this.renderer;
            _this.robotService.CanvasState.state = 1;
            /*var fkey;
            for (let entry of Array.from(this.jointmap.entries())) {
              fkey = entry[0];
            }
            this.robotService.selectJointSensorName = fkey;
            this.robotService.advertiseSelectedJoint(this.robotService.selectJointSensorName);
            */
            //load meshes
            _this.linkmap.forEach(function (value, key) {
                var child = value.children[0];
                if (child == null)
                    return;
                if (child.userData != null) {
                    var mesh = child.userData["mesh"];
                    if (mesh != null) {
                        var ext = mesh.substr(mesh.length - 3);
                        if (ext != null)
                            if (ext.toUpperCase() == "STL") {
                                mesh = mesh.substr(10);
                                mesh = "/robots/" + mesh;
                                stl_loader.load(mesh, function (geometry, id) {
                                    if (id === void 0) { id = key; }
                                    _this.loadMesh(geometry, id);
                                });
                            }
                        if (ext.toUpperCase() == "DAE") {
                            mesh = mesh.substr(10);
                            mesh = "/robots/" + mesh;
                            coll_loader.load(mesh, function (geometry, id) {
                                if (id === void 0) { id = key; }
                                _this.loadCollada(geometry, id);
                            });
                        }
                    }
                }
            });
        }, function (error) {
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_4__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    CanvasComponent.prototype.ngOnInit = function () {
        this.container = this.elementRef.nativeElement;
        //console.log(this.container);
        this.raycaster = new three_full__WEBPACK_IMPORTED_MODULE_1__["Raycaster"]();
        this.mouse = new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector2"]();
        var isInit = this.init();
        if (!isInit)
            this.getData();
    };
    CanvasComponent.prototype.addVectorMarker = function () {
        var material = new three_full__WEBPACK_IMPORTED_MODULE_1__["LineBasicMaterial"]({ color: 0x0000ff });
        var geometry = new three_full__WEBPACK_IMPORTED_MODULE_1__["Geometry"]();
        geometry.vertices.push(new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector3"](0, 0, 0));
        geometry.vertices.push(new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector3"](0, 10, 0));
        var line = new three_full__WEBPACK_IMPORTED_MODULE_1__["Line"](geometry, material);
        return line;
    };
    CanvasComponent.prototype.addSensorMarker = function (pos, size) {
        var geometry = new three_full__WEBPACK_IMPORTED_MODULE_1__["BoxGeometry"](size, size, size);
        var material = new three_full__WEBPACK_IMPORTED_MODULE_1__["MeshBasicMaterial"]({ color: 0x00ff00 });
        var cube = new three_full__WEBPACK_IMPORTED_MODULE_1__["Mesh"](geometry, material);
        cube.position.set(pos[0], pos[1], pos[2]);
        return cube;
    };
    CanvasComponent.prototype.loadMesh = function (geometry, id) {
        var material;
        //console.log("ID "+id);
        if (geometry.hasColors) {
            material = new three_full__WEBPACK_IMPORTED_MODULE_1__["MeshPhongMaterial"]({ opacity: geometry.alpha, vertexColors: three_full__WEBPACK_IMPORTED_MODULE_1__["VertexColors"] });
        }
        else {
            material = new three_full__WEBPACK_IMPORTED_MODULE_1__["MeshPhongMaterial"]({ color: 0xAAAAAA, specular: 0x111111, shininess: 200 });
        }
        //geometry.computeFaceNormals();
        var mesh = new three_full__WEBPACK_IMPORTED_MODULE_1__["Mesh"](geometry, material);
        material.side = three_full__WEBPACK_IMPORTED_MODULE_1__["DoubleSide"];
        mesh.castShadow = true;
        mesh.receiveShadow = true;
        if (this.linkmap != null) {
            var link = this.linkmap.get(id);
            var my = link.children[0];
            if (my == null)
                return;
            my.geometry = mesh.geometry;
            link.userData["realMesh"] = my;
            var scale = my.userData["scale"];
            if (scale != null)
                my.geometry.scale(scale[0], scale[1], scale[2]);
            my.material = mesh.material;
            geometry.computeFaceNormals();
            geometry.computeVertexNormals();
            my.userData["IDlink"] = id;
            my.userData["load"] = true;
        }
    };
    CanvasComponent.prototype.loadCollada = function (geometry, id) {
        if (this.linkmap != null) {
            var my = this.linkmap.get(id);
            var meshNode = my.children[0];
            var obj = geometry.scene;
            my.add(geometry.scene);
            geometry.scene.children[0].userData = meshNode.userData;
            geometry.scene.children[0].userData["IDlink"] = id;
            my.userData["realMesh"] = geometry.scene.children[0];
            geometry.scene.position.set(meshNode.position.x, meshNode.position.y, meshNode.position.z);
            //geometry.scene.scale.set()
            geometry.scene.rotation.set(meshNode.rotation.x, meshNode.rotation.y, meshNode.rotation.z);
            var objtodelete = this.scene.getObjectByName(meshNode.name);
            this.scene.remove(objtodelete);
        }
    };
    CanvasComponent.prototype.init = function () {
        var screen = {
            width: 500,
            height: 400
        }, view = {
            angle: 45,
            aspect: screen.width / screen.height,
            near: 0.1,
            far: 1000
        };
        var status = false;
        //Load state
        if (this.robotService.CanvasState.state == 1) {
            if (this.robotService.CanvasState.camera != null)
                this.camera = this.robotService.CanvasState.camera;
            if (this.robotService.CanvasState.controls != null)
                this.controls = this.robotService.CanvasState.controls;
            if (this.robotService.CanvasState.scene != null)
                this.scene = this.robotService.CanvasState.scene;
            if (this.robotService.CanvasState.linkMap != null)
                this.linkmap = this.robotService.CanvasState.linkMap;
            if (this.robotService.CanvasState.jointMap != null)
                this.jointmap = this.robotService.CanvasState.jointMap;
            if (this.robotService.CanvasState.renderer != null)
                this.renderer = this.robotService.CanvasState.renderer;
            status = true;
        }
        else {
            this.scene = new three_full__WEBPACK_IMPORTED_MODULE_1__["Scene"]();
            this.camera = new three_full__WEBPACK_IMPORTED_MODULE_1__["PerspectiveCamera"](view.angle, view.aspect, view.near, view.far);
            this.renderer = new three_full__WEBPACK_IMPORTED_MODULE_1__["WebGLRenderer"]();
            this.controls = new OrbitControls(this.camera, this.renderer.domElement);
            this.scene.background = new three_full__WEBPACK_IMPORTED_MODULE_1__["Color"](0x72645b);
            this.scene.add(this.camera);
            //this.scene.add(new THREE.AxisHelper(20));
            // lights
            var light = new three_full__WEBPACK_IMPORTED_MODULE_1__["PointLight"](0xffffff, 0.8);
            this.camera.add(light);
            this.camera.position.set(1, 0.5, 2);
            this.camera.lookAt(new three_full__WEBPACK_IMPORTED_MODULE_1__["Vector3"](0, 0, 0));
            //this.camera.up.set(0,0,1);
            this.scene.add(new three_full__WEBPACK_IMPORTED_MODULE_1__["AmbientLight"](0x222222));
            this.renderer.setSize(screen.width, screen.height);
            status = false;
        }
        this.render();
        this.container.appendChild(this.renderer.domElement);
        window.addEventListener('resize', this.OnWindowResize);
        this.container.addEventListener('click', this.Onclick);
        return status;
    };
    CanvasComponent.prototype.resize = function () {
        this.container.style.width = "100%";
        this.container.style.height = "100%";
        //console.log("onResize: " + this.container.clientWidth + ", " + this.container.clientHeight);
        this.camera.aspect = this.getAspectRatio();
        this.camera.updateProjectionMatrix();
        this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);
    };
    CanvasComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        console.log("ngAfterViewInit");
        this.timeout = setTimeout(function () {
            _this.resize();
            window.dispatchEvent(new Event('resize'));
        }, 100);
    };
    CanvasComponent.prototype.disposeNode = function (node) {
        if (node instanceof three_full__WEBPACK_IMPORTED_MODULE_1__["Mesh"]) {
            node.parent = undefined;
            if (node.geometry) {
                node.geometry.dispose();
            }
            var material = node.material;
            if (material) {
                if (material.map)
                    material.map.dispose();
                if (material.lightMap)
                    material.lightMap.dispose();
                if (material.bumpMap)
                    material.bumpMap.dispose();
                if (material.normalMap)
                    material.normalMap.dispose();
                if (material.specularMap)
                    material.specularMap.dispose();
                if (material.envMap)
                    material.envMap.dispose();
                material.dispose();
            }
        }
        else if (node instanceof three_full__WEBPACK_IMPORTED_MODULE_1__["Object3D"]) {
            node.parent.remove(node);
            node.parent = undefined;
        }
    };
    CanvasComponent.prototype.disposeHierarchy = function (node, callback) {
        for (var i = node.children.length - 1; i >= 0; i--) {
            var child = node.children[i];
            this.disposeHierarchy(child, callback);
            callback(child);
        }
    };
    CanvasComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
        var id = cancelAnimationFrame(this.idAnimationFrame);
        clearTimeout(this.timeout);
        window.removeEventListener('resize', this.OnWindowResize);
        this.container.removeEventListener('click', this.Onclick);
        this.idAnimationFrame = null;
        if (this.selectedObject != null) {
            this.selectedObject.material = this.selectMaterial;
        }
        /*if (this.scene != null)
          while (this.scene.children.length > 0) {
            let obj = this.scene.children[0];
            this.scene.remove(obj);
            this.disposeHierarchy(obj, this.disposeNode);
          }*/
        this.robotService = null;
        this.linkmap = null;
        this.jointmap = null;
        this.service = null;
        this.scene = null;
        this.camera = null;
        this.controls = null;
        this.container = null;
        this.timeout = setTimeout(function () {
            window.dispatchEvent(new Event('resize'));
        }, 100);
    };
    /*@HostListener('document:mousedown', ['$event'])
    checkIntersection (event: MouseEvent) {
      var rect = this.renderer.domElement.getBoundingClientRect();
      this.mouse.x = ( ( event.clientX - rect.left ) / rect.width ) * 2 - 1;
      this.mouse.y = - ( ( event.clientY - rect.top ) / rect.height ) * 2 + 1;
      //console.log(this.mouse.x + "" +this.mouse.y);
      if(event.which === 1)
        this.CheckIntersection ();
    }*/
    CanvasComponent.prototype.getAspectRatio = function () {
        var height = this.container.clientHeight;
        if (height === 0) {
            return 0;
        }
        return this.container.clientWidth / this.container.clientHeight;
    };
    /*@HostListener('window:resize', ['$event'])
    public onResize(event: Event) {
        this.resize();
        this.render();
    }*/
    CanvasComponent.prototype.render = function () {
        var self = this;
        (function render() {
            self.idAnimationFrame = requestAnimationFrame(render);
            if (self.scene != null && self.camera != null)
                self.renderer.render(self.scene, self.camera);
            if (self.selectedObject != null) {
                self.selectedObject.material = self.selectMaterial;
            }
            self.faultMap.forEach(function (value, key) {
                if (self.jointmap == null)
                    return;
                var jnt = self.jointmap.get(key);
                var mesh = jnt.children[0].userData["realMesh"];
                if (value != "") {
                    if (mesh != null) {
                        var mat = mesh.material;
                        if (mat != null && mat.color != null)
                            mat.color.setHex(0xFF545E);
                        //(<THREE.Mesh>mesh).material = new THREE.MeshPhongMaterial( { color: 0xFF545E, specular: 0x111111, shininess: 200 } );
                    }
                }
                else {
                    if (mesh != null) {
                        var mat = mesh.material;
                        if (mat != null && mat.color != null)
                            mat.color.setHex(0xAAAAAA);
                    }
                    //self.faultMap.delete(value);            
                }
            });
            var joint = null;
            if (self.jointmap != null)
                joint = self.jointmap.get(self.robotService.selectJointSensorName);
            if (joint != null) {
                self.selectedObject = joint.children[0].userData["realMesh"];
                self.selectMaterial = self.selectedObject.material;
                self.selectedObject.material = new three_full__WEBPACK_IMPORTED_MODULE_1__["MeshPhongMaterial"]({ color: 0xFFFF, specular: 0x111111, shininess: 200 });
            }
            else {
                var sensor = null;
                if (self.linkmap != null)
                    sensor = self.linkmap.get(self.robotService.selectJointSensorName);
                if (sensor != null) {
                    self.selectedObject = sensor;
                    self.selectMaterial = self.selectedObject.material;
                    self.selectedObject.material = new three_full__WEBPACK_IMPORTED_MODULE_1__["MeshPhongMaterial"]({ color: 0xFFFF, specular: 0x111111, shininess: 200 });
                }
            }
        }());
    };
    CanvasComponent.prototype.CheckIntersection = function () {
        this.raycaster.setFromCamera(this.mouse, this.camera);
        var intersects = this.raycaster.intersectObjects(this.scene.children, true);
        //console.log(this.scene.children);
        if (intersects.length > 0) {
            var objs = intersects[0].object;
            //console.log(objs);
            var userdata = objs.userData;
            if (userdata != null) {
                var link = this.linkmap.get(userdata["IDlink"]);
                if (link != null) {
                    var jntName = link.parent.userData["name"];
                    var jnt = this.jointmap.get(jntName);
                    if (jnt != null) {
                        var name = jnt.userData["name"];
                        var id = this.robotService.getJointId(name);
                        if (id != null) {
                            this.robotService.isJoint = true;
                            this.robotService.selectJointSensorName = name;
                            this.robotService.selectJointSensorId = id;
                        }
                    }
                }
            }
            var userdata = objs.userData;
            if (userdata != null) {
                var sensor = userdata["name"];
                if (sensor != null) {
                    this.robotService.isJoint = false;
                    this.robotService.selectJointSensorName = sensor;
                }
            }
            this.robotService.advertiseSelectedJoint(this.robotService.selectJointSensorName);
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('container'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], CanvasComponent.prototype, "elementRef", void 0);
    CanvasComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-canvas',
            template: __webpack_require__(/*! ./canvas.component.html */ "./src/app/canvas/canvas.component.html"),
            styles: [__webpack_require__(/*! ./canvas.component.css */ "./src/app/canvas/canvas.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"], _services_robot_state_service__WEBPACK_IMPORTED_MODULE_5__["RobotStateService"]])
    ], CanvasComponent);
    return CanvasComponent;
}());



/***/ }),

/***/ "./src/app/common/app-error-handler.ts":
/*!*********************************************!*\
  !*** ./src/app/common/app-error-handler.ts ***!
  \*********************************************/
/*! exports provided: AppErrorHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppErrorHandler", function() { return AppErrorHandler; });
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var AppErrorHandler = /** @class */ (function () {
    function AppErrorHandler() {
    }
    AppErrorHandler.prototype.handleError = function (error) {
        alert('error');
        console.log(error);
    };
    return AppErrorHandler;
}());



/***/ }),

/***/ "./src/app/common/app-error.ts":
/*!*************************************!*\
  !*** ./src/app/common/app-error.ts ***!
  \*************************************/
/*! exports provided: AppError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppError", function() { return AppError; });
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var AppError = /** @class */ (function () {
    function AppError(originalError) {
        this.originalError = originalError;
    }
    return AppError;
}());



/***/ }),

/***/ "./src/app/common/not-foud-error.ts":
/*!******************************************!*\
  !*** ./src/app/common/not-foud-error.ts ***!
  \******************************************/
/*! exports provided: NotFoundError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFoundError", function() { return NotFoundError; });
/* harmony import */ var _app_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app-error */ "./src/app/common/app-error.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var NotFoundError = /** @class */ (function (_super) {
    __extends(NotFoundError, _super);
    function NotFoundError() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return NotFoundError;
}(_app_error__WEBPACK_IMPORTED_MODULE_0__["AppError"]));



/***/ }),

/***/ "./src/app/control-panel/control-panel.component.css":
/*!***********************************************************!*\
  !*** ./src/app/control-panel/control-panel.component.css ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/control-panel/control-panel.component.html":
/*!************************************************************!*\
  !*** ./src/app/control-panel/control-panel.component.html ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\" height:100%; overflow: scroll;\" *ngIf=\"isJoint;else sensor\">\n  <mat-card style=\"margin-top: 10px\" class=\"example-card\">\n    <mat-card-header>\n        <mat-card-title>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"2\" value=\"ID: {{robotState.id}}\">\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"15\" value=\"Name: {{robotState.name}}\">  \n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-content >\n        <p>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Motor Position:\">\n            <input  disabled style=\"width: 50px;\" value={{robotState.motorPos}}> \n            <button  mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'motorPos',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Link Position:\">\n            <input  disabled style=\"width: 50px;\" value={{robotState.linkPos}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'linkPos',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p> \n\n        <p>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Motor Velocity:\">\n            <input disabled style=\"width: 50px;\" value={{robotState.motorVel}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'motorVel',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Link Velocity:\">\n            <input  disabled style=\"width: 50px;\" value= {{robotState.linkVel}}>\n            <button mat-icon-button  type=\"button\" (click)=\"addPlot(robotState.id,'linkVel',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p>\n\n        <p>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Stiffness:\">\n            <input  disabled style=\"width: 50px;\" value={{robotState.stiff}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'stiff',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Damping:\">\n            <input  disabled style=\"width: 50px;\" value={{robotState.damp}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'damp',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p>\n\n        <p>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Torque:\">  \n            <input  disabled style=\"width: 50px;\" value={{robotState.effort}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'effort',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button> \n\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Temperature:\">  \n            <input  disabled style=\"width: 50px;\" value={{robotState.temp}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'temp',robotState.name)\">\n             <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button> \n        </p>\n\n        <p>            \n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Aux:\">\n            <input  disabled style=\"width: 50px;\" value={{robotState.aux}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotState.id,'aux',robotState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p>\n\n        <p>\n        <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"7\" value=\"Fault:\">\n        <!--<input  disabled style=\"width: 250px;\" value={{robotState.fault}}> -->\n        <textarea disabled\n            cdkTextareaAutosize\n            #autosize=\"cdkTextareaAutosize\"\n            cdkAutosizeMinRows=\"2\"\n            cdkAutosizeMaxRows=\"5\"\n            value={{robotState.fault}}>\n        </textarea>\n        </p>\n    </mat-card-content>\n  </mat-card>\n\n<mat-card style=\"margin-top: 10px\" class=\"example-card\">\n    <mat-card-header>\n        <mat-card-title>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"2\" value=\"Control\">\n            <mat-slide-toggle #Toggle\n            style=\"margin-left:20px\" \n            (change)=\"isControlEnable = ! isControlEnable; setControl()\"\n            color=\"primary\"\n            [checked]=\"isControlEnable\"\n            >Enable</mat-slide-toggle>       \n            <button  style=\"margin-left:60px\"  *ngIf=\"isControlEnable;\" mat-raised-button  type=\"button\" (click)=\"setPosRef(Pos.value); setVelRef(Vel.value); setEffortRef(Torque.value); setStiffRef(Stiff.value); setDampRef(Damp.value); sendVal(robotState.id)\">Send</button>\n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-content >\n        <div  [hidden]=\"isControlEnable\">\n                <p>\n                        <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Position:\">\n                        <mat-slider #PosOFF\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=\"limit.poslim.ulim\"\n                        [min]=\"limit.poslim.llim\"\n                        [step]=\"0.1\"\n                        [thumbLabel]=\"false\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"robotState.refPos\">\n                        </mat-slider>\n                    {{robotState.refPos}}\n                    </p> \n                    <p>\n                        <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Velocity:\">\n                        <mat-slider #VelOFF\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=\"limit.vellim.ulim\"\n                        [min]=\"limit.vellim.llim\"\n                        [step]=\"step\"\n                        [thumbLabel]=\"false\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"robotState.refVel\">\n                    </mat-slider>\n                    {{robotState.refVel}}\n                    </p>\n                    <p>\n                        <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Torque:\">\n                        <mat-slider #TorqueOFF\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=\"limit.efflim.ulim\"\n                        [min]=\"limit.efflim.llim\"\n                        [step]=\"step\"\n                        [thumbLabel]=\"false\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"robotState.refTor\">\n                    </mat-slider>\n                    {{robotState.refTor}}\n                    </p> \n                    <p>\n                        <input readonly style=\"border:none\" type=\"text\"  size=\"7\" value=\"Stiffness:\">\n                        <mat-slider #StiffOFF\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=10000.0 \n                        [min]=0.0\n                        [thumbLabel]=\"false\"\n                        [step]=\"step\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"robotState.stiff\">\n                    </mat-slider>\n                    {{robotState.stiff}}\n                    </p>\n                    <p>\n                        <input readonly style=\"border:none\"  type=\"text\" size=\"7\" value=\"Damping:\">\n                        <mat-slider  #DampOFF\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=10000.0 \n                        [min]=0.0\n                        [thumbLabel]=\"false\"\n                        [step]=\"step\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"robotState.damp\">\n                    </mat-slider>\n                    {{robotState.damp}}\n                    </p>  \n        </div>\n\n        <div  [hidden]=\"!isControlEnable\">\n\n                <p>\n                        <input readonly style=\"border:none\" type=\"text\"  size=\"7\" value=\"Position:\">\n                        <mat-slider #Pos\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=\"limit.poslim.ulim\"\n                        [min]=\"limit.poslim.llim\"\n                        [step]=\"0.1\"\n                        [thumbLabel]=\"false\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"pval\"\n                        (change) = \"advertisePosition(robotState.name,Pos.value)\"\n                        (input) = \"advertisePosition(robotState.name,Pos.value)\">\n                        </mat-slider>\n                        <input type=\"number\" [max]=\"limit.ulim\" [min]=\"limit.llim\" step=\"0.1\" placeholder=\"Value\" (change) = \"advertisePosition(robotState.name,Pos.value)\" [(ngModel)]=\"Pos.value\">\n                    </p> \n                    <p>\n                        <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Velocity:\">\n                        <mat-slider #Vel\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=\"limit.vellim.ulim\"\n                        [min]=\"limit.vellim.llim\"\n                        [step]=\"0.1\"\n                        [thumbLabel]=\"false\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"vval\">\n                    </mat-slider>\n                    <input type=\"number\" [max]=\"limit.vellim\" [min]=\"-limit.vellim\" step=\"0.1\" placeholder=\"Value\" [(ngModel)]=\"Vel.value\">\n                    </p>\n                    <p>\n                        <input readonly style=\"border:none\" step=\"0.1\" type=\"text\"  size=\"7\" value=\"Torque:\">\n                        <mat-slider #Torque\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=\"limit.efflim.ulim\"\n                        [min]=\"limit.efflim.llim\"\n                        [step]=\"0.1\"\n                        [thumbLabel]=\"false\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"eval\">\n                    </mat-slider>\n                    <input type=\"number\" [max]=\"limit.efflim\" [min]=\"-limit.efflim\" placeholder=\"Value\" [(ngModel)]=\"Torque.value\">\n                    </p> \n                    <p>\n                        <input readonly style=\"border:none\" type=\"text\"  size=\"7\" value=\"Stiffness:\">\n                        <mat-slider #Stiff\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=10000.0 \n                        [min]=0.0\n                        [thumbLabel]=\"false\"\n                        [step]=\"0.1\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"sval\">\n                    </mat-slider>\n                    <input type=\"number\"  [max]=\"10000.0\" [min]=\"0\" step=\"1\" placeholder=\"Value\" [(ngModel)]=\"Stiff.value\">\n                    </p>\n                    <p>\n                        <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Damping:\">\n                        <mat-slider #Damp\n                        class=\"example-margin\"\n                        [disabled]=\"disabled\"\n                        [max]=10000.0 \n                        [min]=0.0\n                        [thumbLabel]=\"false\"\n                        [step]=\"0.1\"\n                        [tickInterval]=\"tickInterval\"\n                        [(ngModel)]=\"dval\">\n                    </mat-slider>\n                    <input type=\"number\" [max]=\"10000.0\" [min]=\"0\" step=\"1\" step=\"1\" placeholder=\"Value\" [(ngModel)]=\"Damp.value\">\n                    </p>  \n        </div>\n\n    </mat-card-content>\n  </mat-card>\n\n</div>\n\n\n<ng-template #imu>\n    <mat-card class=\"example-card\">\n    <mat-card-header>\n        <mat-card-title>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"2\" value=\"ID: {{robotSensorIMUState.id}}\">\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"15\" value=\"Name: {{robotSensorIMUState.name}}\">           \n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-content>\n    <p>Angular velocity: </p>\n        <p>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"x:\">\n\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.ang_velx}}>\n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'ang_velx',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button> \n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"y:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.ang_vely}}>\n            <button mat-icon-button  type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'ang_vely',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"z:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.ang_velz}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'ang_velz',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p>\n    <p>Linear acceleration:</p>\n        <p>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" value=\"x:\"> \n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.lin_accx}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'lin_accx',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"y:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.lin_accy}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'lin_accy',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"z:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.lin_accz}}>  \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'lin_accz',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon></button>      \n        </p>\n        <p>Orientation:</p>\n        <p>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" value=\"x:\"> \n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.orientationx}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'orientationx',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"y:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.orientationy}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'orientationy',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p>\n        <p>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"z:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.orientationz}}>  \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'orientationz',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon></button> \n\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"w:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorIMUState.orientationw}}>  \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorIMUState.id,'orientationw',robotSensorIMUState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon></button>       \n        </p>\n    </mat-card-content>\n</mat-card>\n</ng-template>\n\n<ng-template #ft>\n    <mat-card class=\"example-card\">\n    <mat-card-header>\n        <mat-card-title>\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"2\" value=\"ID: {{robotSensorFTState.id}}\">\n            <input readonly style=\"border:none\" type=\"text\" name=\"clock\" size=\"15\" value=\"Name: {{robotSensorFTState.name}}\">           \n        </mat-card-title>\n    </mat-card-header>\n    <mat-card-content>\n        <p>Force: </p>\n        <p>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"x:\">\n\n            <input  disabled style=\"width: 50px;\" value={{robotSensorFTState.forcex}}>\n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorFTState.id,'forcex',robotSensorFTState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button> \n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"y:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorFTState.forcey}}>\n            <button mat-icon-button  type=\"button\" (click)=\"addPlot(robotSensorFTState.id,'forcey',robotSensorFTState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"z:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorFTState.forcez}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorFTState.id,'forcez',robotSensorFTState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n        </p>\n    <p>Torque:</p>\n        <p>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" value=\"x:\"> \n            <input  disabled style=\"width: 50px;\" value={{robotSensorFTState.torquex}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorFTState.id,'torquex',robotSensorFTState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"y:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorFTState.torquey}}> \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorFTState.id,'torquey',robotSensorFTState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon>\n            </button>\n            <input readonly style=\"border:none; width: 20px\" type=\"text\" name=\"clock\" size=\"1\" value=\"z:\">\n            <input  disabled style=\"width: 50px;\" value={{robotSensorFTState.torquez}}>  \n            <button mat-icon-button type=\"button\" (click)=\"addPlot(robotSensorFTState.id,'torquez',robotSensorFTState.name)\">\n                <mat-icon aria-label=\"Plot\">show_chart</mat-icon></button>      \n        </p>\n    </mat-card-content>\n    </mat-card>\n</ng-template>\n\n<ng-template #sensor>\n    <div *ngIf=\"sensorType=='ft' then ft; else imu\"></div>\n</ng-template>\n      \n<ng-template #ControlOFF>\n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Position:\">\n    <mat-slider #PosOFF\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [step]=\"step\"\n    [thumbLabel]=\"false\"\n    [tickInterval]=\"tickInterval\"\n    [(ngModel)]=\"robotState.refPos\">\n    </mat-slider>\n{{robotState.refPos}}\n</p> \n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Velocity:\">\n    <mat-slider #VelOFF\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [step]=\"step\"\n    [thumbLabel]=\"false\"\n    [tickInterval]=\"tickInterval\"\n    [(ngModel)]=\"robotState.refVel\">\n</mat-slider>\n{{robotState.refVel}}\n</p>\n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Torque:\">\n    <mat-slider #TorqueOFF\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [step]=\"step\"\n    [thumbLabel]=\"false\"\n    [tickInterval]=\"tickInterval\"\n    [(ngModel)]=\"robotState.refTor\">\n</mat-slider>\n{{robotState.refTor}}\n</p> \n<p>\n    <input readonly style=\"border:none\" type=\"text\"  size=\"7\" value=\"Stiffness:\">\n    <mat-slider #StiffOFF\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=10000.0 \n    [min]=0.0\n    [thumbLabel]=\"false\"\n    [step]=\"step\"\n    [tickInterval]=\"tickInterval\"\n    [(ngModel)]=\"robotState.stiff\">\n</mat-slider>\n{{robotState.stiff}}\n</p>\n<p>\n    <input readonly style=\"border:none\"  type=\"text\" size=\"7\" value=\"Damping:\">\n    <mat-slider  #DampOFF\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=10000.0 \n    [min]=0.0\n    [thumbLabel]=\"false\"\n    [step]=\"step\"\n    [tickInterval]=\"tickInterval\"\n    [(ngModel)]=\"robotState.damp\">\n</mat-slider>\n{{robotState.damp}}\n</p>  \n</ng-template>     \n\n<ng-template #ControlON>\n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Position:\">\n    <mat-slider #Pos\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [step]=\"step\"\n    [thumbLabel]=\"false\"\n    [tickInterval]=\"tickInterval\"\n    [value]=\"robotState.refPos\">\n    </mat-slider>\n{{Pos.value}}\n</p> \n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Velocity:\">\n    <mat-slider #Vel\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [step]=\"step\"\n    [thumbLabel]=\"false\"\n    [tickInterval]=\"tickInterval\"\n    [value]=\"robotState.refVel\">\n</mat-slider>\n{{Vel.value}}\n</p>\n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Torque:\">\n    <mat-slider #Torque\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=\"max\"\n    [min]=\"min\"\n    [step]=\"step\"\n    [thumbLabel]=\"false\"\n    [tickInterval]=\"tickInterval\"\n    [value]=\"robotState.refTor\">\n</mat-slider>\n{{Torque.value}}\n</p> \n<p>\n    <input readonly style=\"border:none\" type=\"text\"  size=\"7\" value=\"Stiffness:\">\n    <mat-slider #Stiff\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=10000.0 \n    [min]=0.0\n    [thumbLabel]=\"false\"\n    [step]=\"step\"\n    [tickInterval]=\"tickInterval\"\n    [value]=\"robotState.stiff\">\n</mat-slider>\n{{Stiff.value}}\n</p>\n<p>\n    <input readonly style=\"border:none\"  type=\"text\"  size=\"7\" value=\"Damping:\">\n    <mat-slider #Damp\n    class=\"example-margin\"\n    [disabled]=\"disabled\"\n    [max]=10000.0 \n    [min]=0.0\n    [thumbLabel]=\"false\"\n    [step]=\"step\"\n    [tickInterval]=\"tickInterval\"\n    [value]=\"robotState.damp\">\n</mat-slider>\n{{Damp.value}}\n</p>        \n</ng-template>   "

/***/ }),

/***/ "./src/app/control-panel/control-panel.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/control-panel/control-panel.component.ts ***!
  \**********************************************************/
/*! exports provided: ControlPanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlPanelComponent", function() { return ControlPanelComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/* harmony import */ var _common_not_foud_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../common/not-foud-error */ "./src/app/common/not-foud-error.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../services/http.service */ "./src/app/services/http.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ControlPanelComponent = /** @class */ (function () {
    function ControlPanelComponent(robotService, http) {
        var _this = this;
        this.type = "range";
        this.pval = 0.0;
        this.vval = 0.0;
        this.eval = 0.0;
        this.sval = 0.0;
        this.dval = 0.0;
        this.limit = {
            poslim: { llim: 0, ulim: 0 },
            efflim: { llim: 0, ulim: 0 },
            vellim: { llim: 0, ulim: 0 }
        };
        this.robotState = {
            name: "",
            id: 0,
            motorPos: 0,
            linkPos: 0,
            motorVel: 0,
            linkVel: 0,
            temp: 0,
            effort: 0,
            stiff: 0,
            damp: 0,
            fault: "",
            aux: 0,
            refPos: 0,
            refVel: 0,
            refTor: 0
        };
        this.robotSensorFTState = {
            name: "",
            id: 0,
            forcex: 0,
            forcey: 0,
            forcez: 0,
            torquex: 0,
            torquey: 0,
            torquez: 0,
        };
        this.robotSensorIMUState = {
            name: "",
            id: 0,
            ang_velx: 0,
            ang_vely: 0,
            ang_velz: 0,
            lin_accx: 0,
            lin_accy: 0,
            lin_accz: 0,
            orientationx: 0,
            orientationy: 0,
            orientationz: 0,
            orientationw: 0
        };
        this.isJoint = true;
        this.sensorType = "";
        this.isControlEnable = false;
        this.robotService = robotService;
        this.robot = new Map();
        this.robotSensor = new Map();
        this.service = new _services_http_service__WEBPACK_IMPORTED_MODULE_4__["HttpService"](http);
        this.service.setURL("/singlejoint");
        this.sub1 = this.robotService.currentJointmsg.subscribe(function (msg) {
            _this.setControl();
        });
        this.sub = this.robotService.currentmsg.subscribe(function (msg) {
            _this.robot = msg["robot"];
            _this.robotSensor = msg["sensor"];
            if (_this.robot != null && _this.robotService.isJoint) {
                var item = _this.robot.get(_this.robotService.selectJointSensorName);
                if (item != null) {
                    _this.robotState = item;
                    _this.roundValue(_this.robotState);
                    _this.isJoint = true;
                    var limit = _this.robotService.limits.get(_this.robotService.selectJointSensorName);
                    if (limit != null)
                        _this.limit = limit;
                }
            }
            if (_this.robotSensor != null && !_this.robotService.isJoint) {
                var items = _this.robotSensor.get(_this.robotService.selectJointSensorName);
                if (items != null) {
                    _this.sensorType = items.type;
                    if (items.type == "ft") {
                        _this.robotSensorFTState = items;
                        _this.roundValue(_this.robotSensorFTState);
                    }
                    else if (items.type == "imu") {
                        _this.robotSensorIMUState = items;
                        _this.roundValue(_this.robotSensorIMUState);
                    }
                    _this.isJoint = false;
                }
            }
        });
    }
    ControlPanelComponent.prototype.ngOnDestroy = function () {
        clearTimeout(this.timeout);
        this.sub.unsubscribe();
        this.sub1.unsubscribe();
        this.robot = null;
        this.robotService = null;
        this.robotSensor = null;
        this.timeout = setTimeout(function () {
            window.dispatchEvent(new Event('resize'));
        }, 100);
    };
    ControlPanelComponent.prototype.roundValue = function (item) {
        for (var _i = 0, _a = Object.keys(item); _i < _a.length; _i++) {
            var key = _a[_i];
            if (typeof item[key] == "string")
                continue;
            item[key] = Math.round(item[key] * 100) / 100;
        }
    };
    ControlPanelComponent.prototype.ngOnInit = function () {
        /*this.service.get("/chains")
        .subscribe(
          response => {
             for (let o of response["Chains"]){
               let p =o["Val"];
               let chna =o["Chain"];
                for (let u of p){
                  this.chains.set(u["ID"],{ Chain: chna, Val:{ Name :u["Name"] , Id: u["ID"], JVal: u["Lval"],
                  VVal: u["Vval"], EVal: u["Eval"], SVal: u["Sval"], DVal: u["Dval"], PRef: u["pos_ref"],
                  VRef: u["vel_ref"], ERef: u["eff_ref"], Llimit: u["Llimit"], Ulimit: u["Ulimit"] } });
                }
            }
          },
          (error: AppError) => {
    
            //rimovo dal vettore
            
            if (error instanceof NotFoundError){
              //expected error
              //deleted
              //this.form.setErrors(error.json());
            }
            else{
              //unexpected error
              throw error;
    
            }
            
           });*/
    };
    ControlPanelComponent.prototype.ngAfterViewInit = function () {
        window.dispatchEvent(new Event('resize'));
    };
    ControlPanelComponent.prototype.addPlot = function (id, topic, name) {
        //this.robotService.changeView("Plotter");
        var _this = this;
        if (!this.robotService.plotterViewFlag) {
            this.robotService.countView(true);
            this.robotService.plotterViewFlag = true;
            window.dispatchEvent(new Event('resize'));
        }
        this.timeout = setTimeout(function () {
            window.dispatchEvent(new Event('resize'));
            _this.robotService.addPlot(1, id, topic, name);
        }, 200);
    };
    ControlPanelComponent.prototype.advertisePosition = function (name, value) {
        var msg = { "name": name, "value": value };
        this.robotService.advertiseCtrlSelectedJoint(msg);
    };
    ControlPanelComponent.prototype.setPosRef = function (param) {
        this.pval = param;
    };
    ControlPanelComponent.prototype.setVelRef = function (param) {
        this.vval = param;
    };
    ControlPanelComponent.prototype.setEffortRef = function (param) {
        this.eval = param;
    };
    ControlPanelComponent.prototype.setStiffRef = function (param) {
        this.sval = param;
    };
    ControlPanelComponent.prototype.setDampRef = function (param) {
        this.dval = param;
    };
    ControlPanelComponent.prototype.sendVal = function (id) {
        //{"joint":[{"id": 15, "val": 0},{"id": 16, "val": 0}]}
        this.service.create({ "joint": [{ "id": Number(this.robotState.id), "pos": Number(this.pval),
                    "vel": Number(this.vval), "eff": Number(this.eval), "stiff": Number(this.sval),
                    "damp": Number(this.dval) }] })
            .subscribe(function (response) {
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_2__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    ControlPanelComponent.prototype.setControl = function () {
        if (this.isControlEnable) {
            this.pval = this.robotState.refPos;
            this.vval = this.robotState.refVel;
            this.eval = this.robotState.refTor;
            this.sval = this.robotState.stiff;
            this.dval = this.robotState.damp;
        }
        else {
            this.advertisePosition(null, 0);
        }
    };
    ControlPanelComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-control-panel',
            template: __webpack_require__(/*! ./control-panel.component.html */ "./src/app/control-panel/control-panel.component.html"),
            styles: [__webpack_require__(/*! ./control-panel.component.css */ "./src/app/control-panel/control-panel.component.css")]
        }),
        __metadata("design:paramtypes", [_services_robot_state_service__WEBPACK_IMPORTED_MODULE_1__["RobotStateService"], _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]])
    ], ControlPanelComponent);
    return ControlPanelComponent;
}());



/***/ }),

/***/ "./src/app/home/home.component.css":
/*!*****************************************!*\
  !*** ./src/app/home/home.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/home/home.component.html":
/*!******************************************!*\
  !*** ./src/app/home/home.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n<div style=\"width:100%; height:100%; margin-top:5px\" class=\"containerModelPlot\"\nfxLayout =\"column\"\nfxLayoutAlign=\"start stretch\"\nfxLayoutGap=\"5px\">\n  <div class=\"item item-1\"  fxFlex=\"90\" >\n    <div style=\"height:100%\">\n      <div style=\"width:100%; height:100%\"\n      fxLayout =\"row\"\n      fxLayoutAlign=\"center stretch\"\n      fxLayoutGap=\"5px\">\n        <div class=\"item item-1\"  fxFlex=\"20\" >\n          <div style=\"width:100%; height:100%;\">\n               <div  *ngIf=\"true; then TreeView\"></div>\n          </div> \n        </div>\n        <div  *ngIf=\"true ; then SideContentView\"></div>\n      </div>\n    </div> \n  </div>\n</div>\n\n\n<ng-template #SideContentView> \n    <div class=\"item item-2\" fxFlexOrder=\"1\" [fxFlex]=\"countMainContentView(true)\" >\n        <div style=\"width:100%; height:100%\"\n        fxLayout =\"column\"\n        fxLayoutAlign=\"center stretch\"\n        fxLayoutGap=\"2px\">\n            <div  *ngIf=\"true;then globalChartView\"></div>\n        </div>       \n    </div>\n\n    <div class=\"item item-3\" fxFlexOrder=\"2\"  [fxFlex]=\"countMainContentView(false)\" >\n        <div style=\"height:100%\"> \n            <div style=\"width:100%; height:100%\"\n            fxLayout =\"column\"\n            fxLayoutAlign=\"center stretch\"\n            fxLayoutGap=\"2px\">\n            <div  *ngIf=\"robotService.plotterViewFlag ; then plotterView\"></div>\n            <div  *ngIf=\"robotService.modelViewFlag ; then modelView\"></div>\n            <div  *ngIf=\"robotService.controlPanelViewFlag ; then propertyJointView\"></div>\n            </div>\n        </div> \n    </div>\n</ng-template>\n\n<ng-template #propertyJointView>\n    <div class=\"item item-1\" fxFlexOrder=\"2\" [fxFlex]=\"100/robotService.viewCounter\" >\n        <div *ngIf=\"robotService.controlPanelViewFlag== true\" style=\" height:100%\">\n            <app-control-panel></app-control-panel>\n        </div> \n    </div>\n  </ng-template>\n\n<ng-template #globalChartView>\n    <div class=\"item item-1\"  fxFlexFill >\n        <div style=\" height:100%; width:100%\">\n            <app-bar-chart  idPlot=\"0\" ></app-bar-chart>\n        </div>\n    </div>\n  </ng-template>\n  \n<ng-template #plotterView>\n  <div class=\"item item-1\" fxFlexOrder=\"3\" [fxFlex]=\"100/robotService.viewCounter\" >\n      <div style=\"height:100%;\">\n          <app-plotter  idPlot=\"1\" ></app-plotter>\n      </div> \n  </div>\n</ng-template>\n\n<ng-template #modelView>\n    <div class=\"item item-1\" fxFlexOrder=\"1\" [fxFlex]=\"100/robotService.viewCounter\" >\n        <div style=\" height:100%\">\n            <app-canvas></app-canvas>\n        </div> \n    </div>\n</ng-template>\n\n<!--\n<ng-template #twoPlotView>\n    <div class=\"item item-1\"  fxFlex=\"50\" >\n        <div style=\" height:100%\">\n          <app-plotter idPlot=\"1\" ></app-plotter>\n        </div> \n    </div>\n    <div class=\"item item-2\"  fxFlex=\"50\" >\n        <div style=\" height:100%\">\n          <app-plotter idPlot=\"4\" label=\"Torque\"  [fields]=\"['effort','refTor']\"></app-plotter> \n        </div>\n    </div>  \n</ng-template>  \n\n<ng-template #LeftPlotView>\n\n        <div class=\"item item-2\"  fxFlex=\"50\" >\n            <div style=\" height:100%\">\n                <app-plotter idPlot=\"2\" label=\"Position\" [fields]=\"['motorPos','linkPos','refPos']\"></app-plotter>\n            </div> \n        </div>\n        <div class=\"item item-3\"  fxFlex=\"50\" >\n            <div style=\" height:100%\">\n                <app-plotter idPlot=\"3\" label=\"Velocity\"  [fields]=\"['motorVel','linkVel','refVel']\"></app-plotter> \n            </div> \n        </div>\n</ng-template>\n-->\n<ng-template #TreeView>\n    <app-tree-panel></app-tree-panel>\n</ng-template>\n"

/***/ }),

/***/ "./src/app/home/home.component.ts":
/*!****************************************!*\
  !*** ./src/app/home/home.component.ts ***!
  \****************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HomeComponent = /** @class */ (function () {
    function HomeComponent(robotService, dialog) {
        this.dialog = dialog;
        this.robotService = robotService;
    }
    HomeComponent.prototype.ngOnInit = function () {
    };
    HomeComponent.prototype.countMainContentView = function (param) {
        var ret;
        if (param)
            if (this.robotService.viewCounter == 0)
                ret = 80;
            else
                ret = 80 / 2;
        else if (this.robotService.viewCounter == 0)
            ret = 0;
        else
            ret = 80 / 2;
        return ret;
    };
    HomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-home',
            template: __webpack_require__(/*! ./home.component.html */ "./src/app/home/home.component.html"),
            styles: [__webpack_require__(/*! ./home.component.css */ "./src/app/home/home.component.css")]
        }),
        __metadata("design:paramtypes", [_services_robot_state_service__WEBPACK_IMPORTED_MODULE_1__["RobotStateService"], _angular_material__WEBPACK_IMPORTED_MODULE_0__["MatDialog"]])
    ], HomeComponent);
    return HomeComponent;
}());



/***/ }),

/***/ "./src/app/logger/logger.component.css":
/*!*********************************************!*\
  !*** ./src/app/logger/logger.component.css ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "table {\n    width: 100%;\n  }\n  \n  .mat-form-field {\n    font-size: 14px;\n    width: 100%;\n  }\n  \n  td, th {\n    width: 25%;\n  }"

/***/ }),

/***/ "./src/app/logger/logger.component.html":
/*!**********************************************!*\
  !*** ./src/app/logger/logger.component.html ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar color=\"primary\">\n    <span style=\"width:100%;\" >Logger</span>       \n</mat-toolbar>\n<mat-form-field style=\"margin-top:12px;\">\n    <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n  </mat-form-field>\n  \n  <div  class=\"mat-elevation-z8\">\n    <table mat-table [dataSource]=\"dataSource\" matSort>\n  \n\n      <ng-container matColumnDef=\"TimeStamp\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> TimeStamp </th>\n        <td mat-cell *matCellDef=\"let row\"> {{row.TimeStamp}} </td>\n      </ng-container>\n  \n\n      <ng-container matColumnDef=\"Event\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Event </th>\n        <td mat-cell *matCellDef=\"let row\"> {{row.Event}} </td>\n      </ng-container>\n\n  \n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\">\n      </tr>\n    </table>\n  \n    <mat-paginator [pageSizeOptions]=\"[5, 10, 25, 100]\"></mat-paginator>\n  </div>"

/***/ }),

/***/ "./src/app/logger/logger.component.ts":
/*!********************************************!*\
  !*** ./src/app/logger/logger.component.ts ***!
  \********************************************/
/*! exports provided: LoggerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoggerComponent", function() { return LoggerComponent; });
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var LoggerComponent = /** @class */ (function () {
    function LoggerComponent(dialogRef, 
    //@Inject(MAT_DIALOG_DATA) public data: DialogData,
    robotService) {
        this.dialogRef = dialogRef;
        this.robotService = robotService;
        this.displayedColumns = ['TimeStamp', 'Event'];
        this.dataSource = new _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatTableDataSource"](this.robotService.faultList);
    }
    LoggerComponent.prototype.onNoClick = function () {
        this.dialogRef.close();
    };
    LoggerComponent.prototype.ngOnInit = function () {
        this.dataSource.paginator = this.paginator;
        this.dataSource.sort = this.sort;
    };
    LoggerComponent.prototype.applyFilter = function (filterValue) {
        this.dataSource.filter = filterValue.trim().toLowerCase();
        if (this.dataSource.paginator) {
            this.dataSource.paginator.firstPage();
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatPaginator"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatPaginator"])
    ], LoggerComponent.prototype, "paginator", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"]),
        __metadata("design:type", _angular_material__WEBPACK_IMPORTED_MODULE_1__["MatSort"])
    ], LoggerComponent.prototype, "sort", void 0);
    LoggerComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-logger',
            template: __webpack_require__(/*! ./logger.component.html */ "./src/app/logger/logger.component.html"),
            styles: [__webpack_require__(/*! ./logger.component.css */ "./src/app/logger/logger.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
            _services_robot_state_service__WEBPACK_IMPORTED_MODULE_0__["RobotStateService"]])
    ], LoggerComponent);
    return LoggerComponent;
}());



/***/ }),

/***/ "./src/app/plotter/plotter.component.css":
/*!***********************************************!*\
  !*** ./src/app/plotter/plotter.component.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/*#myChart{\n    margin-top: 64px;\n}*/"

/***/ }),

/***/ "./src/app/plotter/plotter.component.html":
/*!************************************************!*\
  !*** ./src/app/plotter/plotter.component.html ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div >\n  <button mat-raised-button color=\"primary\" type=\"button\" (click)=\"clearData()\">Clear</button> \n  <button mat-raised-button color=\"primary\" type=\"button\" (click)=\"freeze()\">Pause</button>\n  Scale <input #Scale name=\"range\" step=\"0.1\" (change)=\"setScale(Scale.value)\" style=\" width:50px\" > \n  Sample <input #Sample name=\"range\" step=\"0.1\" value = {{samples}} (change)=\"setSample(Sample.value)\" style=\" width:50px\"> \n</div> \n<div style=\"width:100%; height:100%\"\nfxLayout =\"column\"\nfxLayoutAlign=\"center stretch\"\nfxLayoutGap=\"2px\">\n  <div class=\"item item-1\"  fxFlex=\"90\" >\n    <div style=\" height:100%\">\n      <canvas [id]=\"getId()\"></canvas>\n    </div> \n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/plotter/plotter.component.ts":
/*!**********************************************!*\
  !*** ./src/app/plotter/plotter.component.ts ***!
  \**********************************************/
/*! exports provided: PlotterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlotterComponent", function() { return PlotterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/src/chart.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PlotterComponent = /** @class */ (function () {
    function PlotterComponent(robotService) {
        var _this = this;
        this.isloaded = false;
        this.labels = new Array();
        this.datas = new Map();
        this.chartColors = {
            red: 'rgb(255, 99, 132)',
            orange: 'rgb(255, 159, 64)',
            yellow: 'rgb(255, 205, 86)',
            green: 'rgb(75, 192, 192)',
            blue: 'rgb(54, 162, 235)',
            purple: 'rgb(153, 102, 255)',
            grey: 'rgb(201, 203, 207)'
        };
        this.OnWindowResize = function (EventListener) {
            _this.myChart.resize();
        };
        this.robotService = robotService;
        this.isfrozen = false;
        this.samples = 100;
        if (this.label == null)
            this.label = "Plotter";
        this.data = {
            labels: [],
            datasets: []
        };
        this.map = new Map();
    }
    PlotterComponent.prototype.getId = function () {
        return "myChart" + this.idPlot;
    };
    PlotterComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this.timeout = setTimeout(function () {
            console.log("PLOTTER ID " + _this.idPlot);
            //if( parseInt(this.idPlot) == 1) 
            //  this.isResponsive = false;
            //else 
            _this.isResponsive = true;
            _this.canvas = document.getElementById(_this.getId());
            _this.ctx = _this.canvas.getContext('2d');
            _this.myChart = new chart_js__WEBPACK_IMPORTED_MODULE_1__(_this.ctx, {
                type: 'line',
                data: _this.data,
                options: {
                    responsiveAnimationDuration: 0,
                    elements: {
                        line: {
                            tension: 0
                        }
                    },
                    animation: {
                        duration: 0
                    },
                    responsive: _this.isResponsive,
                    maintainAspectRatio: false,
                    steppedLine: true,
                    //cubicInterpolationMode: "",
                    title: {
                        display: true,
                        text: _this.label
                    },
                    tooltips: {
                        enabled: false,
                        mode: 'index',
                        intersect: false,
                    },
                    /*hover: {
                      mode: 'nearest',
                      intersect: true
                    },*/
                    ticks: {
                        source: 'labels'
                    },
                    scales: {
                        xAxes: [{
                                display: false,
                                type: 'time',
                                distribution: 'series',
                                time: {
                                    unit: 'second',
                                    displayFormats: {
                                        second: 'ss'
                                    }
                                },
                                scaleLabel: {
                                    display: false,
                                    labelString: 'Time'
                                }
                            }],
                        yAxes: [{
                                beginAtZero: true,
                                display: true,
                                ticks: {
                                    stepSize: 0.5
                                },
                                scaleLabel: {
                                    display: true,
                                }
                            }]
                    }
                }
            });
            _this.robotService.registerPlotterComponent(parseInt(_this.idPlot), _this.fields);
            _this.robotService.plotUpdateMap.set(parseInt(_this.idPlot), function () {
                if (_this.isfrozen)
                    return;
                if (_this.data.datasets.length == 0)
                    return;
                if (_this.isloaded) {
                    _this.data.labels.push(new Date());
                    var llblength = _this.data.labels.length;
                    if (llblength > _this.samples)
                        _this.data.labels.splice(0, llblength - _this.samples);
                    for (var i = 0; i < _this.data.datasets.length; i++) {
                        var val = _this.datas.get(i);
                        _this.data.datasets[i].data.push(val);
                        var datailength = _this.data.datasets[i].data.length;
                        if (datailength > _this.samples)
                            _this.data.datasets[i].data.splice(0, datailength - _this.samples);
                    }
                    _this.myChart.update();
                }
            });
            _this.subPlotAddDatamsg = _this.robotService.currentPlotAddDatamsg.get(parseInt(_this.idPlot)).subscribe(function (msg) {
                if (msg == null)
                    return;
                if (_this.isfrozen)
                    return;
                for (var _i = 0, msg_1 = msg; _i < msg_1.length; _i++) {
                    var pdata = msg_1[_i];
                    var name = pdata["name"];
                    if (name == null)
                        return;
                    var i = _this.map.get(name);
                    var value = pdata["value"];
                    value = Math.round(value * 100) / 100;
                    //console.log("ACCESS TO pos "+ i +" value "+value);
                    _this.addDataToDataset(i, value);
                }
            });
            _this.subPlotAddmsg = _this.robotService.currentPlotAddmsg.get(parseInt(_this.idPlot)).subscribe(function (msg) {
                if (msg == null)
                    return;
                var topic = msg["topic"];
                if (topic == null)
                    return;
                var id = msg["id"];
                var name = msg["name"];
                _this.addDataset(name + "/" + topic);
                var i = _this.data.datasets.length - 1;
                _this.map.set(id, i);
                var list = _this.robotService.plotStoreMap.get(parseInt(_this.idPlot));
                if (list == null)
                    list = [];
                list.push(msg);
                _this.robotService.plotStoreMap.set(parseInt(_this.idPlot), list);
                //console.log("ADD plot at "+ "pos "+i+" name "+name);
            });
            _this.subPlotClearmsg = _this.robotService.currentClearmsg.get(parseInt(_this.idPlot)).subscribe(function (msg) {
                if (msg == null)
                    return;
                var content = msg['msg'];
                if (content == null)
                    return;
                _this.clearData();
            });
            if (_this.robotService.plotterViewFlag) {
                _this.robotService.restorePlotData(parseInt(_this.idPlot));
            }
            window.dispatchEvent(new Event('resize'));
            window.addEventListener('resize', _this.OnWindowResize);
            _this.myChart.resize();
            _this.isloaded = true;
        }, 100);
    };
    PlotterComponent.prototype.ngOnDestroy = function () {
        console.log("ngOnDestroy PLOTTER ID " + this.idPlot);
        this.clearData();
        clearTimeout(this.timeout);
        if (this.subPlotAddDatamsg != null)
            this.subPlotAddDatamsg.unsubscribe();
        if (this.subPlotAddmsg != null)
            this.subPlotAddmsg.unsubscribe();
        if (this.subPlotClearmsg != null)
            this.subPlotClearmsg.unsubscribe();
        //clearInterval(this.interval);
        if (!this.robotService.plotterViewFlag) {
            this.robotService.plotStoreMap.set(parseInt(this.idPlot), []);
        }
        this.robotService.plotUpdateMap.set(parseInt(this.idPlot), null);
        this.robotService = null;
        this.map = null;
        window.removeEventListener('resize', this.OnWindowResize);
        this.timeout = setTimeout(function () {
            window.dispatchEvent(new Event('resize'));
        }, 100);
    };
    PlotterComponent.prototype.setScale = function (val) {
        this.myChart.options.scales.yAxes[0].ticks.stepSize = val;
    };
    PlotterComponent.prototype.setSample = function (val) {
        this.samples = val;
    };
    PlotterComponent.prototype.freeze = function () {
        this.isfrozen = !this.isfrozen;
        this.myChart.options.tooltips.enabled = this.isfrozen;
    };
    PlotterComponent.prototype.clearData = function () {
        this.data.labels = [];
        this.data.datasets = [];
        this.robotService.clearPlot(parseInt(this.idPlot));
        this.myChart.update();
    };
    PlotterComponent.prototype.addDataset = function (label) {
        var ol = Object.keys(this.chartColors);
        var colorName = ol[this.data.datasets.length % ol.length];
        var data = {
            label: label,
            backgroundColor: this.chartColors[colorName],
            borderColor: this.chartColors[colorName],
            pointStyle: 'line',
            data: [],
            fill: false
        };
        this.data.labels = [];
        for (var _i = 0, _a = this.data.datasets; _i < _a.length; _i++) {
            var d = _a[_i];
            d.data = [];
        }
        this.data.datasets.push(data);
    };
    PlotterComponent.prototype.addDataToDataset = function (index, value) {
        this.datas.set(index, value);
        //console.log("label "+ dataset.label+ " "+dataset.data.length);
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], PlotterComponent.prototype, "idPlot", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", String)
    ], PlotterComponent.prototype, "label", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", Array)
    ], PlotterComponent.prototype, "fields", void 0);
    PlotterComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-plotter',
            template: __webpack_require__(/*! ./plotter.component.html */ "./src/app/plotter/plotter.component.html"),
            styles: [__webpack_require__(/*! ./plotter.component.css */ "./src/app/plotter/plotter.component.css")]
        }),
        __metadata("design:paramtypes", [_services_robot_state_service__WEBPACK_IMPORTED_MODULE_2__["RobotStateService"]])
    ], PlotterComponent);
    return PlotterComponent;
}());



/***/ }),

/***/ "./src/app/plugin-list/plugin-list.component.css":
/*!*******************************************************!*\
  !*** ./src/app/plugin-list/plugin-list.component.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/plugin-list/plugin-list.component.html":
/*!********************************************************!*\
  !*** ./src/app/plugin-list/plugin-list.component.html ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\n<button type=\"button\" (click)=\"onMaster('web')\">Set WEB Master</button> \n<button type=\"button\" (click)=\"onMaster('ros')\">Set ROS Master</button> \n</p>\n<li *ngFor=\"let item of plugins\"> {{item.Name}} {{item.Status}}\n    <button type=\"button\" (click)=\"onStart(item.Name)\">Start</button> \n    <button type=\"button\" (click)=\"onStop(item.Name)\">Stop</button> \n     <input type=\"text\"  #cmd>\n     <button type=\"button\" (click)=\"onCmd(item.Name, cmd.value)\">Cmd</button> \n  </li>\n"

/***/ }),

/***/ "./src/app/plugin-list/plugin-list.component.ts":
/*!******************************************************!*\
  !*** ./src/app/plugin-list/plugin-list.component.ts ***!
  \******************************************************/
/*! exports provided: PluginListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PluginListComponent", function() { return PluginListComponent; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../services/http.service */ "./src/app/services/http.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _common_not_foud_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../common/not-foud-error */ "./src/app/common/not-foud-error.ts");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var PluginListComponent = /** @class */ (function () {
    function PluginListComponent(http) {
        this.plugins = [];
        this.service = new _services_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"](http);
        this.service.setURL("/plugins");
    }
    PluginListComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.service.getAll()
            .subscribe(function (response) {
            //console.log(response);
            for (var _i = 0, _a = response["Plugins"]; _i < _a.length; _i++) {
                var o = _a[_i];
                _this.plugins.push({ Name: o["Name"], Status: o["Status"] });
            }
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_3__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    PluginListComponent.prototype.onStart = function (param) {
        for (var _i = 0, _a = this.plugins; _i < _a.length; _i++) {
            var o = _a[_i];
            if (o.Name == param)
                o.Status = "RUNNING";
        }
        console.log(param);
        this.service.get("/switch?" + param + "_switch=start")
            .subscribe(function (response) {
            console.log(response);
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_3__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    PluginListComponent.prototype.onStop = function (param) {
        for (var _i = 0, _a = this.plugins; _i < _a.length; _i++) {
            var o = _a[_i];
            if (o.Name == param)
                o.Status = "STOPPED";
        }
        console.log(param);
        this.service.get("/switch?" + param + "_switch=stop")
            .subscribe(function (response) {
            console.log(response);
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_3__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    PluginListComponent.prototype.onCmd = function (param, cmd) {
        console.log(cmd);
        this.service.post("/cmd", { "Name": param + "_cmd", "cmd": cmd })
            .subscribe(function (response) {
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_3__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    PluginListComponent.prototype.onMaster = function (param) {
        this.service.get("/master?" + param)
            .subscribe(function (response) {
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_3__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    PluginListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({
            selector: 'app-plugin-list',
            template: __webpack_require__(/*! ./plugin-list.component.html */ "./src/app/plugin-list/plugin-list.component.html"),
            styles: [__webpack_require__(/*! ./plugin-list.component.css */ "./src/app/plugin-list/plugin-list.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"]])
    ], PluginListComponent);
    return PluginListComponent;
}());



/***/ }),

/***/ "./src/app/services/http.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/http.service.ts ***!
  \******************************************/
/*! exports provided: HttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpService", function() { return HttpService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

//import { Http, RequestOptions, Headers } from '@angular/http';

//import {throwError as observableThrowError, Observable} from 'rxjs';
var HttpService = /** @class */ (function () {
    function HttpService(http) {
        this.http = http;
    }
    HttpService.prototype.setURL = function (url) {
        this.url = url;
    };
    HttpService.prototype.getAll = function () {
        return this.http.get(this.url);
    };
    HttpService.prototype.get = function (url) {
        return this.http.get(url);
    };
    HttpService.prototype.create = function (resource) {
        var headers = new Headers({ 'Content-Type': 'application/json' });
        //let options = new RequestOptions({ headers: headers});
        return this.http.post(this.url, JSON.stringify(resource)); //,options);
    };
    HttpService.prototype.post = function (url, resource) {
        var headers = new Headers({ 'Content-Type': 'application/json' });
        //let options = new RequestOptions({ headers: headers});
        return this.http.post(url, JSON.stringify(resource)); //,options)
        //.map(response => response.json())
        //.catch(this.handleError);
    };
    HttpService.prototype.updatePost = function (resource) {
        //we put in the post only the property that we want modify, so 
        //we send less data to the server
        /*this.http.patch(this.url+'/'+post.id,JSON.stringify({myprop: true}))
        .subscribe(response => {
    
        })*/
        //or the complete object
        return this.http.put(this.url + '/' + resource.id, JSON.stringify(resource));
    };
    HttpService.prototype.deletePost = function (post) {
        return this.http.delete(this.url + '/' + post.id);
        //delete from array using indexof(posts)
    };
    HttpService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"]])
    ], HttpService);
    return HttpService;
}());



/***/ }),

/***/ "./src/app/services/robot-state.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/robot-state.service.ts ***!
  \*************************************************/
/*! exports provided: RobotStateService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RobotStateService", function() { return RobotStateService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _websocket_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./websocket.service */ "./src/app/services/websocket.service.ts");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../services/http.service */ "./src/app/services/http.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var RobotStateService = /** @class */ (function () {
    function RobotStateService(wsService, snackBar, http) {
        var _this = this;
        this.wsService = wsService;
        this.snackBar = snackBar;
        this.parsedMsg = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({});
        this.currentmsg = this.parsedMsg.asObservable();
        this.plotMap = new Map();
        this.plotArrayMap = new Map();
        this.topicPlotMap = new Map();
        this.plotAddMsg = new Map();
        this.currentPlotAddmsg = new Map();
        this.plotAddDataMsg = new Map();
        this.currentPlotAddDatamsg = new Map();
        this.plotClearMsg = new Map();
        this.currentClearmsg = new Map();
        this.selectJointSensorName = "";
        this.selectJointSensorId = 0;
        this.isJoint = true;
        this.JointMsg = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({});
        this.currentJointmsg = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"]();
        this.CtrlJointMsg = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({});
        this.CtrlcurrentJointmsg = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"]();
        this.barAddDataMsg = new Map();
        this.currentBarAddDatamsg = new Map();
        this.currentTopicBar = "temperature";
        this.connectionAttempt = 5;
        this.limits = new Map();
        this.faultList = new Array();
        this.modelViewFlag = true;
        this.plotterViewFlag = false;
        this.allPlotsViewFlag = false;
        this.controlPanelViewFlag = false;
        this.toggleModel = "Model";
        this.nBadgeLogger = 0;
        this.viewCounter = 1;
        this.contentViewCounter = 2;
        this.plotUpdateMap = new Map();
        this.CanvasState = {
            scene: null,
            camera: null,
            controls: null,
            linkMap: null,
            jointMap: null,
            renderer: null,
            state: 0
        };
        this.plotStoreMap = new Map();
        this.service = new _services_http_service__WEBPACK_IMPORTED_MODULE_4__["HttpService"](http);
        window.addEventListener('unload', this.dispose);
        this.robot = new Map();
        this.robotSensor = new Map();
        this.registerSelectedJoint();
        this.registerCtrlSelectedJoint();
        this.connectWebSocket();
        this.interval = setInterval(function () {
            _this.plotUpdateMap.forEach(function (mycallback, key) {
                if (mycallback != null) {
                    mycallback();
                }
            });
        }, 20); //50Hz
    }
    RobotStateService.prototype.ngOnDestroy = function () {
        this.dispose();
    };
    RobotStateService.prototype.dispose = function () {
        //console.log("DESTROY SERVICE");
        if (this.wsService != null)
            this.wsService.close();
        clearTimeout(this.timeout);
        clearInterval(this.interval);
        if (this.sub != null)
            this.sub.unsubscribe();
        window.removeEventListener('unload', this.dispose);
    };
    RobotStateService.prototype.changeView = function (param) {
        //console.log("enableModelView"+ param);
        if (param == "Model") {
            this.modelViewFlag = true;
            this.plotterViewFlag = false;
            this.allPlotsViewFlag = false;
        }
        else if (param == "Plotter") {
            this.plotterViewFlag = true;
            this.modelViewFlag = false;
            this.allPlotsViewFlag = false;
        }
        else if (param == "AllPlots") {
            this.plotterViewFlag = false;
            this.allPlotsViewFlag = true;
            this.modelViewFlag = false;
        }
        this.toggleModel = param;
    };
    RobotStateService.prototype.onError = function (err) {
        console.log("WebSocket Error occur ");
        console.log(err);
        this.snackBar.open("OFF-LINE", null, {
            duration: 3000
        });
        this.sub.unsubscribe();
        this.reconnect();
    };
    RobotStateService.prototype.reconnect = function () {
        var _this = this;
        this.timeout = setTimeout(function () {
            console.log("WebSocket reconnect attempt");
            _this.service.get("/plugins")
                .subscribe(function (response) {
                console.log("Server Reachable");
                _this.connectWebSocket();
            }, function (error) {
                _this.snackBar.open("OFF-LINE", null, {
                    duration: 3000
                });
                _this.reconnect();
            });
        }, 5000);
    };
    RobotStateService.prototype.onClose = function () {
        console.log("WebSocket closed by server");
        this.snackBar.open("OFF-LINE", null, {
            duration: 3000
        });
        this.sub.unsubscribe();
        this.reconnect();
    };
    RobotStateService.prototype.connectWebSocket = function () {
        var _this = this;
        console.log("WebSocket trying connect");
        clearTimeout(this.timeout);
        var ip = window.location.origin;
        ip = ip.substr(7);
        var WS_URL = "ws://" + ip + "/websocket";
        this.wsService.connect(WS_URL);
        this.sub = this.wsService.messages.subscribe(function (msg) {
            _this.parseMsg(msg);
            _this.sendMsg();
        }, function (err) { return _this.onError(err); }, function () { return _this.onClose(); });
    };
    RobotStateService.prototype.publishMsg = function (msg) {
        this.parsedMsg.next(msg);
    };
    RobotStateService.prototype.registerSelectedJoint = function () {
        this.currentJointmsg = this.JointMsg.asObservable();
    };
    RobotStateService.prototype.registerCtrlSelectedJoint = function () {
        this.CtrlcurrentJointmsg = this.CtrlJointMsg.asObservable();
    };
    RobotStateService.prototype.registerPlotterComponent = function (id, fields) {
        this.plotAddDataMsg.set(id, new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({}));
        this.currentPlotAddDatamsg.set(id, this.plotAddDataMsg.get(id).asObservable());
        this.plotAddMsg.set(id, new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({}));
        this.currentPlotAddmsg.set(id, this.plotAddMsg.get(id).asObservable());
        this.plotClearMsg.set(id, new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({}));
        this.currentClearmsg.set(id, this.plotClearMsg.get(id).asObservable());
        if (fields != null)
            this.topicPlotMap.set(id, fields);
    };
    RobotStateService.prototype.registerBarChartComponent = function (id) {
        this.barAddDataMsg.set(id, new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({}));
        this.currentBarAddDatamsg.set(id, this.barAddDataMsg.get(id).asObservable());
    };
    RobotStateService.prototype.getJointId = function (param) {
        var obj = this.robot.get(param);
        if (obj == null)
            return null;
        return obj.id;
    };
    RobotStateService.prototype.parseMsg = function (msg) {
        var _this = this;
        var robot = msg["Robot"];
        if (robot != null) {
            var nameList = robot["joint_name"];
            var ids = robot["joint_id"];
            var motors = robot["motor_position"];
            var links = robot["link_position"];
            var motorsv = robot["motor_velocity"];
            var linksv = robot["link_velocity"];
            var temps = robot["temperature"];
            var efforts = robot["effort"];
            var stiffs = robot["stiffness"];
            var damps = robot["damping"];
            var faults = robot["fault_string"];
            var posrefs = robot["pos_ref"];
            var velrefs = robot["vel_ref"];
            var torrefs = robot["eff_ref"];
            var auxs = robot["aux"];
            //var barTopic = robot[this.currentTopicBar];
            //if (barTopic != null)
            if (this.currentBarAddDatamsg.get(0) != null)
                this.barAddDataMsg.get(0).next({ "robot": robot, "topic": this.currentTopicBar });
            var _loop_1 = function (i) {
                obj = {
                    name: nameList[i],
                    id: ids[i],
                    motorPos: motors[i],
                    linkPos: links[i],
                    motorVel: motorsv[i],
                    linkVel: linksv[i],
                    temp: temps[i],
                    effort: efforts[i],
                    stiff: stiffs[i],
                    damp: damps[i],
                    fault: faults[i],
                    aux: auxs[i],
                    refPos: posrefs[i],
                    refVel: velrefs[i],
                    refTor: torrefs[i]
                };
                if (faults[i] != "") {
                    this_1.faultList.push({ 'TimeStamp': new Date(), 'Event': faults[i] });
                    //il badge deve essere aggiornato solo quando dialog  chiusa.
                    //TODO
                    this_1.nBadgeLogger = this_1.nBadgeLogger + 1;
                }
                this_1.robot.set(nameList[i], obj);
                keys = Object.keys(obj);
                this_1.plotMap.forEach(function (value, mkey) {
                    //var plotItem = this.plotMap.get(1);
                    if (value != null) {
                        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                            var key = keys_1[_i];
                            var topic = value.get(ids[i] + "/" + key);
                            if (topic != null) {
                                var pobj = { "name": ids[i] + "/" + key, "value": obj[topic] };
                                var array = _this.plotArrayMap.get(mkey);
                                if (array != null)
                                    array.push(pobj);
                            }
                        }
                    }
                });
            };
            var this_1 = this, obj, keys;
            for (var i = 0; i < nameList.length; i++) {
                _loop_1(i);
            }
        }
        var sensors = msg["Sensors"];
        if (sensors != null) {
            var fts = sensors["fts"];
            var nameList = fts["ft_name"];
            var ids = fts["ft_id"];
            var forces = fts["force"];
            var torques = fts["torque"];
            var forcesv = [0, 0, 0];
            var torquesv = [0, 0, 0];
            var _loop_2 = function (i) {
                if (forces != null)
                    forcesv = forces[i]["Vector"];
                if (torques != null)
                    torquesv = torques[i]["Vector"];
                objs = {
                    type: "ft",
                    name: nameList[i],
                    id: ids[i],
                    forcex: forcesv[0],
                    forcey: forcesv[1],
                    forcez: forcesv[2],
                    torquex: torquesv[0],
                    torquey: torquesv[1],
                    torquez: torquesv[2]
                };
                this_2.robotSensor.set(nameList[i], objs);
                keys = Object.keys(objs);
                this_2.plotMap.forEach(function (value, mkey) {
                    //var plotItem = this.plotMap.get(1);
                    if (value != null) {
                        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {
                            var key = keys_2[_i];
                            var topic = value.get(ids[i] + "/" + key);
                            if (topic != null) {
                                var pobj = { "name": ids[i] + "/" + key, "value": objs[topic] };
                                var array = _this.plotArrayMap.get(mkey);
                                if (array != null)
                                    array.push(pobj);
                            }
                        }
                    }
                });
            };
            var this_2 = this, objs, keys;
            for (var i = 0; i < nameList.length; i++) {
                _loop_2(i);
            }
            //IMU
            var imus = sensors["imus"];
            var nameList = imus["imu_name"];
            var ids = imus["imu_id"];
            var ang_vel = imus["ang_vel"];
            var lin_acc = imus["lin_acc"];
            var orientation = imus["orientation"];
            var ang_velv = [0, 0, 0];
            var lin_accv = [0, 0, 0];
            var orientationv = [0, 0, 0, 0];
            var _loop_3 = function (i) {
                if (ang_vel != null)
                    ang_velv = ang_vel[i]["Vector"];
                if (lin_acc != null)
                    lin_accv = lin_acc[i]["Vector"];
                if (orientation != null)
                    orientationv = orientation[i]["Vector"];
                objimu = {
                    type: "imu",
                    name: nameList[i],
                    id: ids[i],
                    ang_velx: ang_velv[0],
                    ang_vely: ang_velv[1],
                    ang_velz: ang_velv[2],
                    lin_accx: lin_accv[0],
                    lin_accy: lin_accv[1],
                    lin_accz: lin_accv[2],
                    orientationx: orientationv[0],
                    orientationy: orientationv[1],
                    orientationz: orientationv[2],
                    orientationw: orientationv[3]
                };
                this_3.robotSensor.set(nameList[i], objimu);
                keys = Object.keys(objimu);
                this_3.plotMap.forEach(function (value, mkey) {
                    //var plotItem = this.plotMap.get(1);
                    if (value != null) {
                        for (var _i = 0, keys_3 = keys; _i < keys_3.length; _i++) {
                            var key = keys_3[_i];
                            var topic = value.get(ids[i] + "/" + key);
                            if (topic != null) {
                                var pobj = { "name": ids[i] + "/" + key, "value": objimu[topic] };
                                var array = _this.plotArrayMap.get(mkey);
                                if (array != null)
                                    array.push(pobj);
                            }
                        }
                    }
                });
            };
            var this_3 = this, objimu, keys;
            for (var i = 0; i < nameList.length; i++) {
                _loop_3(i);
            }
        }
        this.publishMsg({ "robot": this.robot, "sensor": this.robotSensor });
        this.plotArrayMap.forEach(function (value, key) {
            if (value != null && value.length != 0) {
                _this.plotAddDataMsg.get(key).next(value);
                _this.plotArrayMap.set(key, []);
            }
        });
    };
    RobotStateService.prototype.sendMsg = function () {
        this.wsService.messages.next({ "msg": "Send" });
    };
    RobotStateService.prototype.restorePlotData = function (idPlot) {
        var arr = this.plotStoreMap.get(idPlot);
        if (arr == null)
            return;
        console.log(arr);
        for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {
            var obj = arr_1[_i];
            var t = obj["id"];
            var id = t.split("/")[0];
            this.addPlot(idPlot, id, obj["topic"], obj["name"]);
        }
    };
    RobotStateService.prototype.addPlot = function (idPlot, id, topic, name) {
        var plotItem = this.plotMap.get(idPlot);
        if (plotItem != null)
            if (plotItem.get(id + "/" + topic) != null)
                return;
        var obj = { "topic": topic, "id": id + "/" + topic, "name": name };
        if (plotItem == null) {
            plotItem = new Map();
            this.plotMap.set(idPlot, plotItem);
        }
        plotItem.set(id + "/" + topic, topic);
        if (this.plotArrayMap.get(idPlot) == null)
            this.plotArrayMap.set(idPlot, new Array());
        var addMsgItem = this.plotAddMsg.get(idPlot);
        addMsgItem.next(obj);
    };
    RobotStateService.prototype.advertiseSelectedJoint = function (param) {
        this.JointMsg.next(param);
    };
    RobotStateService.prototype.advertiseCtrlSelectedJoint = function (param) {
        this.CtrlJointMsg.next(param);
    };
    RobotStateService.prototype.plotState = function (id, name) {
        var _this = this;
        this.topicPlotMap.forEach(function (value, key) {
            var clearItem = _this.plotClearMsg.get(key);
            if (clearItem != null)
                clearItem.next({ msg: 'ClsState' });
            for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {
                var t = value_1[_i];
                _this.addPlot(key, id, t, name);
            }
        });
    };
    RobotStateService.prototype.clearPlot = function (idPlot) {
        var array = this.plotArrayMap.get(idPlot);
        var tmp = this.plotMap.get(idPlot);
        if (tmp != null)
            tmp.clear();
        this.plotArrayMap.set(idPlot, []);
    };
    RobotStateService.prototype.countView = function (param) {
        if (param)
            this.viewCounter++;
        else
            this.viewCounter--;
    };
    RobotStateService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [_websocket_service__WEBPACK_IMPORTED_MODULE_2__["WebsocketService"], _angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSnackBar"], _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"]])
    ], RobotStateService);
    return RobotStateService;
}());



/***/ }),

/***/ "./src/app/services/websocket.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/websocket.service.ts ***!
  \***********************************************/
/*! exports provided: WebsocketService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebsocketService", function() { return WebsocketService; });
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var WebsocketService = /** @class */ (function () {
    function WebsocketService(snackBar) {
        this.snackBar = snackBar;
    }
    WebsocketService.prototype.connectInternal = function (url) {
        this.subject = this.create(url);
        return this.subject;
    };
    WebsocketService.prototype.onOpen = function () {
        if (this.ws.readyState === WebSocket.OPEN) {
            console.log("Successfully connected: ");
            this.snackBar.open("ON-LINE", null, {
                duration: 3000
            });
        }
    };
    WebsocketService.prototype.create = function (url) {
        var _this = this;
        //console.log("before ws");
        if (this.ws != null) {
            //this.ws.close();
            delete this.ws;
            this.ws = null;
        }
        this.ws = new WebSocket(url);
        this.ws.onopen = function () { return _this.onOpen(); };
        var observable = rxjs__WEBPACK_IMPORTED_MODULE_2__["Observable"].create(function (obs) {
            //ws.onopen.bind(this.onOpen);
            _this.ws.onmessage = obs.next.bind(obs);
            _this.ws.onerror = obs.error.bind(obs);
            _this.ws.onclose = obs.complete.bind(obs);
            return _this.ws.close.bind(_this.ws);
        });
        var observer = {
            next: function (data) {
                if (_this.ws.readyState === WebSocket.OPEN) {
                    _this.ws.send(JSON.stringify(data));
                }
            }
        };
        return rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"].create(observer, observable);
    };
    WebsocketService.prototype.close = function () {
        this.ws.close();
    };
    WebsocketService.prototype.connect = function (url) {
        this.messages = this
            .connectInternal(url).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(function (response) {
            var data = JSON.parse(response.data);
            return data;
        }));
    };
    WebsocketService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_3__["MatSnackBar"]])
    ], WebsocketService);
    return WebsocketService;
}());



/***/ }),

/***/ "./src/app/slider-control/slider-control.component.css":
/*!*************************************************************!*\
  !*** ./src/app/slider-control/slider-control.component.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/slider-control/slider-control.component.html":
/*!**************************************************************!*\
  !*** ./src/app/slider-control/slider-control.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\n  slider-control  <button type=\"button\" (click)=\"onMaster()\">Set Web Master</button> \n <button type=\"button\" (click)=\"type='range'\">R</button><button type=\"button\" (click)=\"type='number'\">N</button> \n</p>\n<li *ngFor=\"let item of chains; let i=index\"> {{item.Chain}}\n  \n  {{item.Val.Name}} {{item.Val.Id}} <p>PositionRef</p><input [type]=\"type\" #Input name=\"range\" [(ngModel)]=\"chains[i].Val.PRef\" min={{item.Val.Llimit}}  max={{item.Val.Ulimit}} step=\"0.1\" (change)=\"setPosRef(Input.value)\" > {{item.Val.PRef}}\n  \n  <p>VelocityRef</p><input [type]=\"type\" #Vel name=\"range\" [(ngModel)]=\"chains[i].Val.VRef\"  step=\"0.1\" (change)=\"setVelRef(Vel.value)\" > {{item.Val.VRef}}\n  <p>EffortRef</p><input [type]=\"type\" #Eff name=\"range\" [(ngModel)]=\"chains[i].Val.ERef\" step=\"0.1\" (change)=\"setEffortRef(Eff.value)\" > {{item.Val.ERef}}\n  <p>Stiffness</p><input [type]=\"type\" #Stiff name=\"range\" [(ngModel)]=\"chains[i].Val.SVal\" min=0.0  max=10000.0  step=\"0.1\" (change)=\"setStiffRef(Stiff.value)\" > {{item.Val.SVal}}\n  <p>Damping</p><input [type]=\"type\" #Damp name=\"range\" [(ngModel)]=\"chains[i].Val.DVal\" min=0.0  max=10000.0 step=\"0.1\" (change)=\"setDampRef(Damp.value)\" > {{item.Val.DVal}}\n  <button type=\"button\" (click)=\"setPosRef(Input.value); setVelRef(Vel.value); setEffortRef(Eff.value); setStiffRef(Stiff.value); setDampRef(Damp.value); sendVal(item.Val.Id)\">SEND</button>\n</li>\n\n "

/***/ }),

/***/ "./src/app/slider-control/slider-control.component.ts":
/*!************************************************************!*\
  !*** ./src/app/slider-control/slider-control.component.ts ***!
  \************************************************************/
/*! exports provided: SliderControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SliderControlComponent", function() { return SliderControlComponent; });
/* harmony import */ var _common_not_foud_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../common/not-foud-error */ "./src/app/common/not-foud-error.ts");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../services/http.service */ "./src/app/services/http.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/*
 * Copyright (C) 2017 IIT-ADVR
 * Author:  Giuseppe Rigano
 * email:   giuseppe.rigano@iit.it
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>
*/
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var SliderControlComponent = /** @class */ (function () {
    function SliderControlComponent(http) {
        this.type = "range";
        this.chains = [];
        this.jid = [];
        this.jval = [];
        this.evval = [];
        this.vvval = [];
        this.svval = [];
        this.dvval = [];
        this.posref = [];
        this.velref = [];
        this.effref = [];
        this.pval = 0.0;
        this.vval = 0.0;
        this.eval = 0.0;
        this.sval = 0.0;
        this.dval = 0.0;
        this.service = new _services_http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"](http);
        this.service.setURL("/singlejoint");
    }
    SliderControlComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.service.get("/chains")
            .subscribe(function (response) {
            for (var _i = 0, _a = response["Chains"]; _i < _a.length; _i++) {
                var o = _a[_i];
                var p = o["Val"];
                var chna = o["Chain"];
                for (var _b = 0, p_1 = p; _b < p_1.length; _b++) {
                    var u = p_1[_b];
                    _this.chains.push({ Chain: chna, Val: { Name: u["Name"], Id: u["ID"], JVal: u["Lval"],
                            VVal: u["Vval"], EVal: u["Eval"], SVal: u["Sval"], DVal: u["Dval"], PRef: u["pos_ref"],
                            VRef: u["vel_ref"], ERef: u["eff_ref"], Llimit: u["Llimit"], Ulimit: u["Ulimit"] } });
                }
            }
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_0__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    SliderControlComponent.prototype.setPosRef = function (param) {
        this.pval = param;
    };
    SliderControlComponent.prototype.setVelRef = function (param) {
        this.vval = param;
    };
    SliderControlComponent.prototype.setEffortRef = function (param) {
        this.eval = param;
    };
    SliderControlComponent.prototype.setStiffRef = function (param) {
        this.sval = param;
    };
    SliderControlComponent.prototype.setDampRef = function (param) {
        this.dval = param;
    };
    SliderControlComponent.prototype.sendVal = function (id) {
        //{"joint":[{"id": 15, "val": 0},{"id": 16, "val": 0}]}
        this.service.create({ "joint": [{ "id": Number(id), "pos": Number(this.pval),
                    "vel": Number(this.vval), "eff": Number(this.eval), "stiff": Number(this.sval),
                    "damp": Number(this.dval) }] })
            .subscribe(function (response) {
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_0__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    SliderControlComponent.prototype.onMaster = function () {
        var _this = this;
        this.service.get("/master?web")
            .subscribe(function (response) {
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_0__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
        this.service.get("/state")
            .subscribe(function (response) {
            for (var _i = 0, _a = response["joint_id"]; _i < _a.length; _i++) {
                var o = _a[_i];
                _this.jid.push(o);
            }
            for (var _b = 0, _c = response["link_position"]; _b < _c.length; _b++) {
                var o = _c[_b];
                _this.jval.push(o);
            }
            for (var _d = 0, _e = response["effort"]; _d < _e.length; _d++) {
                var o = _e[_d];
                _this.evval.push(o);
            }
            for (var _f = 0, _g = response["link_velocity"]; _f < _g.length; _f++) {
                var o = _g[_f];
                _this.vvval.push(o);
            }
            for (var _h = 0, _j = response["stiffness"]; _h < _j.length; _h++) {
                var o = _j[_h];
                _this.svval.push(o);
            }
            for (var _k = 0, _l = response["damping"]; _k < _l.length; _k++) {
                var o = _l[_k];
                _this.dvval.push(o);
            }
            for (var _m = 0, _o = response["pos_ref"]; _m < _o.length; _m++) {
                var o = _o[_m];
                _this.posref.push(o);
            }
            for (var _p = 0, _q = response["vel_ref"]; _p < _q.length; _p++) {
                var o = _q[_p];
                _this.velref.push(o);
            }
            for (var _r = 0, _s = response["eff_ref"]; _r < _s.length; _r++) {
                var o = _s[_r];
                _this.effref.push(o);
            }
            for (var _t = 0, _u = _this.chains; _t < _u.length; _t++) {
                var entry = _u[_t];
                for (var i in _this.jval) {
                    if (entry.Val.Id == _this.jid[i]) {
                        entry.Val.JVal = _this.jval[i];
                        entry.Val.VVal = _this.vvval[i];
                        entry.Val.EVal = _this.evval[i];
                        entry.Val.SVal = _this.svval[i];
                        entry.Val.DVal = _this.dvval[i];
                        entry.Val.PRef = _this.posref[i];
                        entry.Val.VRef = _this.velref[i];
                        entry.Val.ERef = _this.effref[i];
                    }
                }
            }
        }, function (error) {
            //rimovo dal vettore
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_0__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    SliderControlComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"])({
            selector: 'app-slider-control',
            template: __webpack_require__(/*! ./slider-control.component.html */ "./src/app/slider-control/slider-control.component.html"),
            styles: [__webpack_require__(/*! ./slider-control.component.css */ "./src/app/slider-control/slider-control.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]])
    ], SliderControlComponent);
    return SliderControlComponent;
}());



/***/ }),

/***/ "./src/app/tree-panel/tree-panel.component.css":
/*!*****************************************************!*\
  !*** ./src/app/tree-panel/tree-panel.component.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/tree-panel/tree-panel.component.html":
/*!******************************************************!*\
  !*** ./src/app/tree-panel/tree-panel.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div style=\"width:100%; height:100%\"\nfxLayout =\"column\"\nfxLayoutAlign=\"center stretch\"\nfxLayoutGap=\"5px\">\n    <div class=\"item item-2\"  fxFlex=\"100\">\n        <div style=\" height:100%; overflow: scroll;\">\n            <mat-tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\n                <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodeToggle matTreeNodePadding>\n                  <button mat-icon-button disabled></button>\n                  <button (click)=\"setActiveDevice(node.type, node.isJoint)\" mat-button>{{node.devicename}} : {{node.type}}</button>\n                </mat-tree-node>\n              \n                <mat-tree-node *matTreeNodeDef=\"let node;when: hasChild\" matTreeNodePadding>\n                  <button mat-icon-button matTreeNodeToggle\n                          [attr.aria-label]=\"'toggle ' + node.filename\">\n                    <mat-icon class=\"mat-icon-rtl-mirror\">\n                      {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}\n                    </mat-icon>\n                  </button>\n                  <button (click)=\"setActiveDevice(node.type,node.isJoint)\" mat-button>{{node.devicename}} : {{node.type}}</button>\n                </mat-tree-node>\n            </mat-tree>\n        </div> \n    </div>\n   <!-- <div class=\"item item-3\"  fxFlex=\"10\" >\n        <div style=\"width:100%; height:100%\">\n            <div style=\"width:100%; height:100%\">\n                   {{selectedDevice}} <button  style=\"float: right;\" *ngIf=\"isJoint\" mat-raised-button color=\"primary\" type=\"button\" (click)=\"plotState(jointId,selectedDevice)\">PlotState</button>\n            </div> \n        </div> \n    </div>-->\n</div>"

/***/ }),

/***/ "./src/app/tree-panel/tree-panel.component.ts":
/*!****************************************************!*\
  !*** ./src/app/tree-panel/tree-panel.component.ts ***!
  \****************************************************/
/*! exports provided: DeviceNode, DeviceFlatNode, FileDatabase, TreePanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceNode", function() { return DeviceNode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceFlatNode", function() { return DeviceFlatNode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileDatabase", function() { return FileDatabase; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreePanelComponent", function() { return TreePanelComponent; });
/* harmony import */ var _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/cdk/tree */ "./node_modules/@angular/cdk/esm5/tree.es5.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material_tree__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/tree */ "./node_modules/@angular/material/esm5/tree.es5.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../services/http.service */ "./src/app/services/http.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _common_not_foud_error__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../common/not-foud-error */ "./src/app/common/not-foud-error.ts");
/* harmony import */ var _services_robot_state_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../services/robot-state.service */ "./src/app/services/robot-state.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var DeviceNode = /** @class */ (function () {
    function DeviceNode() {
    }
    return DeviceNode;
}());

/** Flat node with expandable and level information */
var DeviceFlatNode = /** @class */ (function () {
    function DeviceFlatNode() {
    }
    return DeviceFlatNode;
}());

var FileDatabase = /** @class */ (function () {
    function FileDatabase(http) {
        this.dataChange = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]([]);
        this.service = new _services_http_service__WEBPACK_IMPORTED_MODULE_4__["HttpService"](http);
        this.service.setURL("/state");
        this.initialize();
    }
    Object.defineProperty(FileDatabase.prototype, "data", {
        get: function () { return this.dataChange.value; },
        enumerable: true,
        configurable: true
    });
    FileDatabase.prototype.getData = function () {
        var _this = this;
        this.service.get("/state")
            .subscribe(function (response) {
            var robot = response["Robot"];
            var joints = robot["joint_name"];
            var sensors = response["Sensors"];
            var fts = sensors["fts"];
            var ft = fts["ft_name"];
            var imus = sensors["imus"];
            var imu = imus["imu_name"];
            /*var obj = {
    
                "Robot": {
                  "chain_i0": ["namej0",
                              "nasmej1",
                              "namej1",
                              "namej1",
                              "namej1",
                              "namej1",
                              "namej5"],
                  "chain_i1": ["namej0",
                              "namej1"]
                },
                "Sensor": ["sensor0",
                          "sensor1"]
            
            };*/
            var obj = {
                "Robot": joints,
                "Sensor": { "fts": ft, "imus": imu }
            };
            var stringjson = JSON.stringify(obj);
            var dataObject = JSON.parse(stringjson);
            var data = _this.buildFileTree(dataObject, 0, false);
            // Notify the change.
            _this.dataChange.next(data);
        }, function (error) {
            if (error instanceof _common_not_foud_error__WEBPACK_IMPORTED_MODULE_6__["NotFoundError"]) {
                //expected error
                //deleted
                //this.form.setErrors(error.json());
            }
            else {
                //unexpected error
                throw error;
            }
        });
    };
    FileDatabase.prototype.initialize = function () {
        // Parse the string to json object.
        this.getData();
    };
    FileDatabase.prototype.buildFileTree = function (value, level, isJoint) {
        var data = [];
        for (var k in value) {
            var v = value[k];
            var node = new DeviceNode();
            node.devicename = "" + k;
            if (v === null || v === undefined) {
                // no action
            }
            else if (typeof v === 'object') {
                if (node.devicename == "Robot")
                    node.children = this.buildFileTree(v, level + 1, true);
                else
                    node.children = this.buildFileTree(v, level + 1, false);
            }
            else {
                node.type = v;
                if (isJoint)
                    node.isJoint = true;
                else
                    node.isJoint = false;
            }
            data.push(node);
        }
        return data;
    };
    FileDatabase = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"]])
    ], FileDatabase);
    return FileDatabase;
}());

var TreePanelComponent = /** @class */ (function () {
    function TreePanelComponent(database, robotService) {
        var _this = this;
        this.selectedDevice = "";
        this.isJoint = true;
        this.transformer = function (node, level) {
            var flatNode = new DeviceFlatNode();
            flatNode.devicename = node.devicename;
            flatNode.type = node.type;
            flatNode.level = level;
            flatNode.isJoint = node.isJoint;
            flatNode.expandable = !!node.children;
            return flatNode;
        };
        this._getLevel = function (node) { return node.level; };
        this._isExpandable = function (node) { return node.expandable; };
        this._getChildren = function (node) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(node.children);
        };
        this.hasChild = function (_, _nodeData) { return _nodeData.expandable; };
        this.robotService = robotService;
        this.robotService.currentJointmsg.subscribe(function (msg) {
            _this.selectedDevice = msg;
            _this.isJoint = _this.robotService.isJoint;
        });
        this.treeFlattener = new _angular_material_tree__WEBPACK_IMPORTED_MODULE_2__["MatTreeFlattener"](this.transformer, this._getLevel, this._isExpandable, this._getChildren);
        this.treeControl = new _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_0__["FlatTreeControl"](this._getLevel, this._isExpandable);
        this.dataSource = new _angular_material_tree__WEBPACK_IMPORTED_MODULE_2__["MatTreeFlatDataSource"](this.treeControl, this.treeFlattener);
        database.dataChange.subscribe(function (data) {
            _this.dataSource.data = data;
        });
    }
    TreePanelComponent.prototype.ngOnInit = function () {
    };
    TreePanelComponent.prototype.setActiveDevice = function (param, param1) {
        this.selectedDevice = param;
        //this.isJoint = this.robotService.isJoint;
        this.robotService.selectJointSensorName = param;
        if (param1 != null) {
            this.robotService.isJoint = param1;
            this.isJoint = this.robotService.isJoint;
        }
        if (param1 != null && param1) {
            this.jointId = this.robotService.getJointId(param);
            this.robotService.selectJointSensorId = this.jointId;
            this.robotService.selectJointSensorName = param;
        }
    };
    TreePanelComponent.prototype.plotState = function (id, name) {
        /*if(this.isJoint){
          this.robotService.changeView("AllPlots");
          this.timeout = setTimeout(()=>{
            this.robotService.plotState(this.robotService.selectJointSensorId,this.robotService.selectJointSensorName);
          },200);
        }*/
    };
    TreePanelComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-tree-panel',
            template: __webpack_require__(/*! ./tree-panel.component.html */ "./src/app/tree-panel/tree-panel.component.html"),
            styles: [__webpack_require__(/*! ./tree-panel.component.css */ "./src/app/tree-panel/tree-panel.component.css")],
            providers: [FileDatabase]
        }),
        __metadata("design:paramtypes", [FileDatabase, _services_robot_state_service__WEBPACK_IMPORTED_MODULE_7__["RobotStateService"]])
    ], TreePanelComponent);
    return TreePanelComponent;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");





if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"]);


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/user/advr-superbuild/external/webGUI/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map